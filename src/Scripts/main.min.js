!function(){"use strict";angular.module("bikeBuilder",["mgcrea.ngStrap"]).value("version","0.1")}(),function(){"use strict";angular.module("bikeBuilder").directive("scrollBind",["$q","scroll",function($q,scroll){return{restrict:"A",scope:!0,link:function(scope,element,attrs){function bindValuesToScroll(scopeKeysToUpdate){0!==scopeKeysToUpdate.length&&scroll.bind(getUpdateValuesFn(scopeKeysToUpdate))}function getUpdateValuesFn(scopeKeysToUpdate){return function(scrollTop){_.forEach(scopeKeysToUpdate,function(scopeKey){scope[scopeKey]=scrollTop}),scope.$apply()}}var callback;if(_.isFunction(attrs.scollBind))return callback=attrs.scrollBind,void scroll.bind(callback);if(attrs.updateScopeVals){var updateScopeVals=attrs.updateScopeVals.replace(/'/gi,'"');try{var json=JSON.parse(updateScopeVals);bindValuesToScroll(json)}catch(e){bindValuesToScroll([updateScopeVals])}}}}}])}(),function(){"use strict";angular.module("bikeBuilder").directive("showSpinner",["$templateCache","$compile",function($templateCache,$compile){var idPostFix=0;return{restrict:"A",scope:!0,priority:1,link:function(scope,element,attrs){function getBool(attr){return!_.isUndefined(attr)&&"true"===attr.toString().toLowerCase()}function getSpinnerElement(){var tpl=$templateCache.get("spinner.tpl.html"),linkFn=$compile(tpl);return linkFn(scope)}function insertBeforeElement(insertEl,siblingEl){var parentEl=siblingEl.parentNode;parentEl.insertBefore(insertEl,siblingEl)}function removeElement(el){el.remove()}var showSpinner=getBool(attrs.showSpinner);if(showSpinner!==!1){scope.spinnerKeyPostFix=idPostFix,idPostFix++;var spinnerElement=getSpinnerElement();insertBeforeElement(spinnerElement[0],element[0]);var removeObserve=attrs.$observe("showSpinner",function(val){getBool(val)||(removeElement(spinnerElement),removeObserve())})}}}}])}(),function(){"use strict";angular.module("bikeBuilder").directive("svgRoot",["$timeout",function($timeout){return{restrict:"A",scope:!0,link:function(scope,element){var el=element[0];el.addEventListener("load",function(){$timeout(function(){scope.$broadcast("svgRootLoaded"),scope.svgRootLoaded=!0,scope.$apply()},700)})}}}])}(),function(){"use strict";angular.module("bikeBuilder").directive("svgLine",["SvgAnimationDirective",function(SvgAnimationDirective){return{restrict:"A",replace:!0,scope:{model:"="},templateNamespace:"svg",templateUrl:"line.tpl.html",link:function(scope,element){function loadAnimation(){scope.pathLength=base.getLength(),scope.animationDuration=base.getDuration(scope.pathLength),scope.animationStyle=base.getStyleObj(scope.animationDuration,!1),scope.$apply()}var el=element[0],base=new SvgAnimationDirective(el,"line",{msPrUnit:20,maxMs:2e3,data:scope.model.data});scope.$on("svgRootLoaded",loadAnimation)}}}])}(),function(){"use strict";angular.module("bikeBuilder").directive("svgLineGroup",function(){return{restrict:"A",replace:!0,scope:{model:"="},templateNamespace:"svg",templateUrl:"line.group.tpl.html",link:function(scope){scope.handleClicked=function(key){scope.$emit("svgPart:clicked",key)}}}})}(),function(){"use strict";angular.module("bikeBuilder").directive("svgPath",["SvgAnimationDirective",function(SvgAnimationDirective){return{restrict:"A",replace:!0,scope:{model:"="},templateNamespace:"svg",templateUrl:"path.tpl.html",link:function(scope,element){function loadAnimation(){scope.pathLength=base.getLength(),scope.animationDuration=base.getDuration(scope.pathLength),scope.animationStyle=base.getStyleObj(scope.animationDuration,!1),scope.$apply()}var el=element[0],base=new SvgAnimationDirective(el,"path");scope.$on("svgRootLoaded",loadAnimation),scope.handleClicked=function(key){scope.$emit("svgPart:clicked",key)}}}}])}(),function(){"use strict";angular.module("bikeBuilder").controller("PreviewCtrl",["SvgParts","$scope",function(SvgParts,$scope){var ctrl=this;ctrl.getPart=SvgParts.getOne,SvgParts.setupPartData(),$scope.$on("svgPart:clicked",function(event,key){SvgParts.updateAll({active:!1}),SvgParts.updateOne(key,{active:!0})})}])}(),function(){"use strict";angular.module("bikeBuilder").service("catalog",function(){function getAll(){}return{getAll:getAll}})}(),function(){"use strict";angular.module("bikeBuilder").service("scroll",["Bindable",function(Bindable){function attachScroll(){throttledHandleScroll=_.throttle(handleScroll,100),window.addEventListener("scroll",throttledHandleScroll)}function detachScroll(){window.removeEventListener("scroll",throttledHandleScroll)}function getScrollTop(){var scrollTop=window.document.documentElement.scrollTop;return 0===scrollTop&&(scrollTop=window.document.body.scrollTop),scrollTop}function handleScroll(){var scrollTop=getScrollTop();self.invoke(scrollTop)}var self=this;_.assign(self,_.assign(new Bindable,{onAttach:attachScroll,onDetach:detachScroll}));var throttledHandleScroll;return{bind:self.bind}}])}(),function(){"use strict";angular.module("bikeBuilder").service("SvgParts",["utils","SvgPart","Path","LineGroup",function(utils,SvgPart,Path,LineGroup){function add(key,props){if(!key||!props.type||!props.data)return null;var existingPart=getOne(key);if(existingPart)return null;var Class=getClass(props.type);return constructor?(parts[key]=new Class(key,props),parts):null}function getClass(key){return classes[key]||null}function getOne(key){var part=parts[key];return part?part:null}function getAll(){return parts}function updateOne(key,props){var part=getOne(key);return part?_.assign(part,props):null}function updateAll(props){return _.each(parts,function(part){_.assign(part,props)}),parts}function setupPartData(){add("rearTire",{type:"Path",data:"M18.9,229.1c-2-55.7,40.4-87.7,86-87.8c43.9-0.1,85,40.3,85,87.8s-31.1,86-85,86 C64.9,315.1,20.8,280.4,18.9,229.1z M104.1,320.2c58.8,0,92.3-44.3,91.3-90.7c-1-47.8-36.5-93.3-90-93.3c-51.5,0-94.8,35-92.5,95.8 C14.6,277.4,57.1,320.2,104.1,320.2z"}),add("rearHub",{type:"Path",data:"M101.5,221c5.8,1.5,9.4,7.3,7.9,13s-7.4,9-13.2,7.5c-5.8-1.5-9.4-7.3-7.9-13 C89.8,222.8,95.7,219.5,101.5,221z M105.1,234.1l-2.5-0.6l0.7,2.4L105.1,234.1z M100.8,237.3l-1.3-2.5l-1.6,3.5L100.8,237.3z M94.7,234.1l-2,0.9l2.2,2.5L94.7,234.1z M94,230l-2.7-1.7l0.4,3.6L94,230z M93.7,225.2l1.9,1.6l0-2.9L93.7,225.2z M98.5,223.6 l1.5,3.2l1-3.8L98.5,223.6z"}),add("rearSpokes",{type:"LineGroup",data:"78.8,156.2,94.8,221.1|93.3,152.8,91.5,223.3|94.8,221.1,32.9,206.2|93.3,152.8,91.5,223.3|88.4,229.6,39.6,262.4|65.7,161.9,102.9,221.1|53.5,170.6,104.1,216.1|109.4,152.8,111.6,217.3|43.7,181.7,88.4,232.1|37.1,193.4,88.8,227.8|30.9,221.1,98.9,220.3|30.9,235.8,93.3,239.5|88.8,233.6,47.5,274.8|34.3,249.4,91.5,238|58.3,286.1,100.1,241.1|90.2,236.6,82.6,300.4|96.1,241.1,96.1,303.6|98.9,241.1,139.7,296.5|111.6,303.7,106.6,237.7|106.6,237.7,70,294.5|125.3,301.6,114.1,236.6|162.2,279.2,118.1,238|122.8,154.5,118.1,181.7|148.9,169.6,125.3,196.1|160.4,181.7,119.3,224.5|168.9,194.8,127.6,223.3|115.4,217.3,176,209.1|175.4,253,105.4,239.5|105.4,239.5,151.9,289.1|170.6,265.9,133.9,239.5"}),add("frontRim",{type:"Path",data:"M326.7,157.7c39.4-30.6,93.4-21.8,121.9,16.3c28.4,38,17.3,89.7-18.9,120.5 c-23.1,19.6-85.4,28.6-120.4-16.4C284.8,246.5,290.9,185.5,326.7,157.7z M317.8,271.8c30,38.6,71.2,39,104.4,14.1 s41.7-72.5,17.3-105.1c-24.4-32.7-67.8-43.7-105.7-13.2C298.8,195.7,296.7,244.7,317.8,271.8z"}),add("frontTire",{type:"Path",data:"M326.7,157.7c39.4-30.6,93.4-21.8,121.9,16.3c28.4,38,17.3,89.7-18.9,120.5 c-23.1,19.6-85.4,28.6-120.4-16.4C284.8,246.5,290.9,185.5,326.7,157.7z M304.4,283.7c27.8,40.9,90.2,42,127.7,15.3 c37.8-26.9,51.3-91.7,20.5-128.7c-32.4-39-80.1-53.5-131.7-15.5C286.6,180,273.4,238,304.4,283.7z"}),add("frontHub",{type:"Path",data:"M370.5,227.1c0-6,4.7-10.9,10.6-10.9c5.8,0,10.6,4.9,10.6,10.9S386.9,238,381,238 C375.2,238,370.5,233.2,370.5,227.1z M382.2,220.4v2.6l2.1-1.3L382.2,220.4z M386.4,223.7l-2.1,1.9l3.8,0.7L386.4,223.7z M384.8,230.4l1.3,1.7l1.9-2.8L384.8,230.4z M381,232.2l-1,3.1l3.4-1.3L381,232.2z M376.5,233.7l1.1-2.3l-2.8,0.8L376.5,233.7z M373.7,229.4l2.7-2.3h-3.9L373.7,229.4z"}),add("frontSpokes",{type:"LineGroup",data:"450.1,201.4,388.8,219.4|388.8,219.4,425.9,166.4|435.8,177.7,392.3,228.2|444.4,188.2,381.3,216.2|452.6,216.2,393.3,228.2|453.2,230.4,389.6,234.4|450.1,244.9,390.5,222.2|445.1,258.6,391.6,225|437.6,270.7,385.6,238|427.7,281.4,383.5,238|402.4,297.3,390.5,234.4|390.5,234.4,416.3,290|374.8,303,375.8,237.1|359,300.9,379.6,238|344.5,295.1,384.3,238|333.4,287.8,368.5,228.2|322.5,277.4,370.5,232.4|314.6,267.2,373.3,235.2|373.3,235.2,388.8,301.5|307.8,252.7,373.7,237.1|304.9,239.5,369.3,220.7|304.4,223.7,368.5,222.2|306.9,209.1,369.3,229.4|312.1,194.8,369.3,228.2|320.9,180.6,362.8,208.2|330.8,170.2,354.1,191.7|355.4,154.7,367.1,194.8|370.5,150.5,382.5,217.3|385.6,150.5,388.8,219.4|399.4,152.2,375.3,213.2|413.5,157.9,382.2,215.8"}),add("seatMast",{type:"Path",data:"M159.9,80.1c0,0-6.1-14.5-6-16c0.5-3,6-6.5,6-6.5l-7.9,1.9l-11.4,6.7c0,0,3.9-1.1,5.9,0.4 c1.4,0.7,7.3,14.7,7.3,14.7L159.9,80.1"}),add("frame",{type:"Path",data:"M329.4,77.7l-10.3,3.8l1.8,4l-156.6,1.8l-2.2-7.5l-8.8,1.5l2.8,9.8l1,3L97.6,232.4l11.7,3.4 l98.5,13.6c0,0,5.8,1.8,10-3.4c4.3-5.3,114.3-120.5,114.3-120.5l1.3,5.5l11.1-4L329.4,77.7z M107.9,219.2l22.3-52.8l-19.6,53.9 L107.9,219.2z M115.4,226.2l-1.3-4L160.4,103l45.3,136.5L115.4,226.2z M214.1,235.8L166.9,96.7l155.6-2.3l6.7,19.5L214.1,235.8z"}),add("fork",{type:"Path",data:"M333.4,131c0,0,30.1,97.1,44.8,99.4c14,2.2,1.2-7.8,1.3-7.5c-5-0.6-35.9-98.7-35.1-96L333.4,131z"}),add("stem",{type:"Path",data:"M319.6,81.3l7.7-2.8l-6.2-18.4c6.2-4.4,15-3.1,15-3.1s7.3-7.4-0.3-8.1s-13.8,0.5-18.9,0.9 s-7.7,3.1-7.7,3.1l1.9,10.2l2-0.2L319.6,81.3"}),add("handleBar",{type:"Path",data:"M345.4,51c0,0,3.7,1.2,10,6.6s8.1,8.4,9,15.8c0.9,7.4-5.4,14.8-12.7,19.3 c-7.3,4.5-13.7,6.7-21.5,6c-7.8-0.7-12.5-1.3-12.2-5.6c0.3-4.7,5.9-0.9,15-1.6s12.5-3.4,14.9-5.2c2.2-1.6,4.2-3,6.4-8.6 s-1.5-11.7-4.8-14.8s-13.4-5.1-14.9-6.8c-1.4-1.7-0.8-5.6,2-7.6C339.2,46.4,345.4,51,345.4,51z"}),add("saddle",{type:"Path",data:"M137.5,66.6c3.9-0.2,11.9-5.8,11.9-5.8s7.4-4.3,16.8-4c9.4,0.3,20-1.5,20-1.5s1.9-0.6,1-3.3 c-0.9-2.8-6.5-4.6-6.5-4.6s-5.9-2.7-11-2.1c-5.6,0.6-6.1,0.8-7.6,1.3c-0.3,0.1-2,0.7-2.3,0.8c-2.7,0.7-3.5,1.2-10.9,0.7 c-9.3-0.6-34,1.5-34,1.5c-7.8,1.2-11.8,7-10.1,10.3C104.9,59.7,109.9,67.7,137.5,66.6z"}),add("crankset",{type:"Path",data:"M237.2,245.7c-1-12.5-11.2-22.7-23.7-23.7c-15.9-1.3-29.1,11.9-27.9,27.9 c1,12.5,11.2,22.7,23.7,23.7C225.3,274.8,238.5,261.6,237.2,245.7z M227.1,230.9l-15,12.5l-8.2-17 C217.9,221,227.1,230.9,227.1,230.9z M197.5,230.4l9.3,16.3l-18.7,0.7C189.9,234.1,197.5,230.4,197.5,230.4z M203.8,269.2 c-12.2-3.1-15.9-16.7-15.9-16.7l19.2-1.9L203.8,269.2z M209.3,269.9l3.6-17.7l15.3,10.9C222.1,272.5,209.3,269.9,209.3,269.9z M232,258l-15.8-10.4l14.5-12.2C238.8,246.2,232,258,232,258z"}),add("chain",{type:"Path",data:"M214.4,222.2c-19-1.1-99,2.7-99,2.7l-1.3-2.7l91.5-3c-8,1.1,34.3-5.9,33.6,26.7 c-0.8,32.5-29,30-29,30s-9.9,0-21.4-3.5c-8.9-2.7-90-28.1-90-28.1l2.8-2.8l87,27.3c0,0,14.9,3.5,21.4,3.2 c15.5,0,24.6-6.9,25.3-25.1C235,229.6,220.8,222.2,214.4,222.2z"}),add("pedalArm",{type:"Path",data:"M263.1,237.7c-0.4-0.1-6.5-0.6-13,1.9c-5.8,3-26.1,2.3-26.1,2.3s-9.4-0.2-12.6,0.1 c-5.8,0.4-5.8,3.9-5.8,3.9s0.4,2.7,2.1,4c1.9,1.4,6.4,1.5,9,1c1.8-0.3,12.3-2.1,14.3-2.1c4.7-0.1,14.1-0.5,16-0.4 s10.3,2.2,14.6,1.9c6.3,0.1,8.4-3.5,8.6-5S269,238.6,263.1,237.7z"}),add("pedal",{type:"Path",data:"M243.6,249.7 271.6,232.4 277.9,236.6 245.4,254.2z"}),add("rearRim",{type:"Path",data:"M18.9,229.1c-2-55.7,40.4-87.7,86-87.8c43.9-0.1,85,40.3,85,87.8s-31.1,86-85,86 C64.9,315.1,20.8,280.4,18.9,229.1z M104.9,304.5c48.9-0.9,73.8-33.7,73.8-75.2s-33.1-76.8-73.8-76.8s-75.6,28.1-73.8,76.8 C32.7,274.2,70.6,305.2,104.9,304.5z"})}utils.inherit(Path,SvgPart),utils.inherit(LineGroup,SvgPart);var parts={},classes={Path:Path,LineGroup:LineGroup};return{getOne:getOne,getAll:getAll,updateOne:updateOne,updateAll:updateAll,add:add,setupPartData:setupPartData}}])}(),function(){"use strict";angular.module("bikeBuilder").service("utils",function(){function inherit(child,base,props){return child.prototype=_.create(base.prototype,_.assign({_super:base.prototype,callSuperConstructor:function(ctx,args){base.apply(ctx,args)},constructor:child},props)),child}return{inherit:inherit}})}(),function(){"use strict";angular.module("bikeBuilder").service("Bindable",function(){return function(){function bind(callback){self._callbacks.push(callback);var index=self._callbacks.length-1;return 0===index&&self.onAttach(),self.onBound(),function(){self._callbacks.splice(index,1),self.onUnBound(),0===self._callbacks.length&&self.onDetach()}}function invoke(){var args=arguments;_.forEach(self._callbacks,function(callback){callback.apply(null,args)})}var self=this;this.onAttach=angular.noop,this.onBound=angular.noop,this.onUnBound=angular.noop,this.onDetach=angular.noop,this._callbacks=[],this.bind=bind,this.invoke=invoke}})}(),function(){"use strict";angular.module("bikeBuilder").service("SvgAnimationDirective",function(){return function(el,type,options){function getPathLength(){return self.el.getTotalLength()}function getLineLength(){var x=Math.abs(self.data[0]-self.data[2]),y=Math.abs(self.data[1]-self.data[3]);return Math.sqrt(Math.pow(x,2)+Math.pow(y,2))}var self=this;options=options||{},this.el=el,this.type=type,this.data=options.data||{},this.msPrUnit=options.msPrUnit||4.16,this.maxMs=options.maxMs||5e3,this.getStyleObj=function(duration,shouldRepeat){var repeat=shouldRepeat?"infinite":"forwards",animation="dash "+duration+" linear "+repeat;return{"-webkit-animation":animation,animation:animation}},this.getDuration=function(length){return Math.min(length*this.msPrUnit,this.maxMs)+"ms"},this.getLength=function(){switch(this.type){case"path":return getPathLength();case"line":return getLineLength();default:return null}}}})}(),function(){"use strict";angular.module("bikeBuilder").service("LineGroup",function(){function Line(lineData){this.data=lineData.split(",")}function LineGroup(){this.callSuperConstructor(this,arguments),this.color="black";var linesDataArr=this.data.split("|");this.lines=[];var self=this;_.forEach(linesDataArr,function(lineData){self.lines.push(new Line(lineData))})}return LineGroup})}(),function(){"use strict";angular.module("bikeBuilder").service("Path",function(){return function(){this.callSuperConstructor(this,arguments),this.color="transparent"}})}(),function(){"use strict";angular.module("bikeBuilder").service("SvgPart",function(){return function(key,props){props=props||{},props.key=key,_.assign(this,props)}})}(),angular.module("bikeBuilder").run(["$templateCache",function($templateCache){$templateCache.put("line.group.tpl.html",'<g id={{model.key}} ng-click="handleClicked(model.key)" ng-class="[model.color, model.key, model.active ? \'active\' : \'\']">\r\n    <line svg-line ng-repeat="line in model.lines" model="line"></line>\r\n</g>'),$templateCache.put("line.tpl.html",'<line fill="none" ng-class="[model.key, model.type]" ng-style="animationStyle"\r\n      ng-attr-x1="{{model.data[0]}}" ng-attr-y1="{{model.data[1]}}" ng-attr-x2="{{model.data[2]}}" ng-attr-y2="{{model.data[3]}}" \r\n      ng-attr-stroke-dasharray="{{pathLength}}" ng-attr-stroke-dashoffset="{{pathLength}}" />\r\n'),$templateCache.put("path.tpl.html",'<path id={{model.key}} fill="none" ng-click="handleClicked(model.key)" ng-class="[model.type, model.color, model.active ? \'active\' : \'\']" \r\n      ng-style="animationStyle" ng-attr-stroke-dasharray="{{pathLength}}" ng-attr-stroke-dashoffset="{{pathLength}}" ng-attr-d="{{model.data}}" />'),$templateCache.put("spinner.tpl.html",'<div class="spinner">\r\n    <h3 class="load-text">Loading...</h3>\r\n    <?xml version="1.0" encoding="utf-8" ?>\r\n    <svg id="spinner-svg{{spinnerKeyPostFix}}" version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"\r\n         viewBox="204 89.3 243.3 243.3" enable-background="new 204 89.3 243.3 243.3" xml:space="preserve">\r\n    <g id="spinner-wrapper{{spinnerKeyPostFix}}"><g id="spinner-wheel{{spinnerKeyPostFix}}">\r\n    <path id="spinner-rim{{spinnerKeyPostFix}}" fill="none" d="M259.6,125.2c50.2-39,119.1-27.8,155.4,20.8c36.2,48.5,22.1,114.4-24.1,153.6\r\n		c-29.5,25-108.9,36.5-153.5-20.9C206.1,238.4,213.9,160.7,259.6,125.2z M248.2,270.7c38.3,49.2,90.8,49.7,133.1,18\r\n		s53.2-92.4,22.1-134c-31.1-41.7-86.4-55.7-134.8-16.8C224,173.7,221.3,236.1,248.2,270.7z" />\r\n    <g id="spinner-spokes{{spinnerKeyPostFix}}">\r\n    <line fill="none" x1="416.9" y1="180.9" x2="338.7" y2="203.9" />\r\n    <line fill="none" x1="338.7" y1="203.9" x2="386" y2="136.3" />\r\n    <line fill="none" x1="398.7" y1="150.7" x2="343.2" y2="215.1" />\r\n    <line fill="none" x1="409.6" y1="164.1" x2="329.2" y2="199.8" />\r\n    <line fill="none" x1="420.1" y1="199.8" x2="343.2" y2="215.1" />\r\n    <line fill="none" x1="420.9" y1="217.9" x2="339.8" y2="221.9" />\r\n    <line fill="none" x1="416.9" y1="236.4" x2="340.9" y2="207.4" />\r\n    <line fill="none" x1="410.5" y1="253.9" x2="342.3" y2="211" />\r\n    <line fill="none" x1="401" y1="269.3" x2="334.2" y2="226.4" />\r\n    <line fill="none" x1="388.3" y1="282.9" x2="332" y2="227.6" />\r\n    <line fill="none" x1="356.1" y1="303.2" x2="339.8" y2="221.9" />\r\n    <line fill="none" x1="340.9" y1="221.9" x2="373.8" y2="293.9" />\r\n    <line fill="none" x1="320.9" y1="310.5" x2="322.2" y2="226.4" />\r\n    <line fill="none" x1="300.7" y1="307.8" x2="327" y2="227.6" />\r\n    <line fill="none" x1="282.3" y1="300.4" x2="332" y2="227.6" />\r\n    <line fill="none" x1="268.1" y1="291.1" x2="315.4" y2="211" />\r\n    <line fill="none" x1="254.2" y1="277.8" x2="315.4" y2="220.5" />\r\n    <line fill="none" x1="244.1" y1="264.8" x2="319" y2="224" />\r\n    <line fill="none" x1="319" y1="224" x2="338.7" y2="308.6" />\r\n    <line fill="none" x1="235.5" y1="246.3" x2="319.5" y2="226.4" />\r\n    <line fill="none" x1="231.8" y1="229.5" x2="319" y2="204.3" />\r\n    <line fill="none" x1="231.1" y1="209.4" x2="316.8" y2="207.4" />\r\n    <line fill="none" x1="234.3" y1="190.7" x2="316" y2="217.9" />\r\n    <line fill="none" x1="241" y1="172.5" x2="315.5" y2="215.1" />\r\n    <line fill="none" x1="252.2" y1="154.4" x2="319" y2="204.3" />\r\n    <line fill="none" x1="264.8" y1="141.1" x2="323.8" y2="200.8" />\r\n    <line fill="none" x1="296.2" y1="121.4" x2="319.5" y2="204.1" />\r\n    <line fill="none" x1="315.4" y1="116" x2="330.3" y2="199.3" />\r\n    <line fill="none" x1="334.7" y1="116" x2="338.7" y2="203.9" />\r\n    <line fill="none" x1="352.3" y1="118.2" x2="319" y2="204.3" />\r\n    <line fill="none" x1="370.2" y1="125.5" x2="330.3" y2="199.3" />\r\n            </g>\r\n    <path id="spinner-tire{{spinnerKeyPostFix}}" fill="none" d="M259.6,125.2c50.2-39,119.1-27.8,155.4,20.8c36.2,48.5,22.1,114.4-24.1,153.6\r\n		c-29.5,25-108.9,36.5-153.5-20.9C206.1,238.4,213.9,160.7,259.6,125.2z M231.1,285.9c35.4,52.1,115,53.5,162.8,19.5\r\n		c48.2-34.3,65.4-116.9,26.1-164.1C378.8,91.6,318,73.1,252.2,121.5C208.4,153.6,191.6,227.6,231.1,285.9z" />\r\n    <path id="spinner-hub{{spinnerKeyPostFix}}" fill="none" d="M315.4,213.7c0-2.3,0.7-13.9,13.5-13.9c7.4,0,13.5,6.2,13.5,13.9s-6.1,13.9-13.6,13.9\r\n		C321.4,227.6,315.4,221.5,315.4,213.7z M323,218l-4.1,0.6l3.4,3.2L323,218z M333.8,216.9l0.7,4.1l3.1-3.5L333.8,216.9z M328,219.9\r\n		l-1.3,4l4.3-0.7L328,219.9z M318.7,211.2l-0.4,4.1l3.9-2.5L318.7,211.2z M323.9,208.3l1.3-3.9l-4.4,1.6L323.9,208.3z M334.5,205.7\r\n		l-5.3-2.9l1.7,4.3L334.5,205.7z M334.8,211.3l4,1.1l-1.8-4.3L334.8,211.3z" />\r\n        </g>\r\n        </g>\r\n    </svg>\r\n\r\n</div>')}]);
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1haW4uanMiLCJzY3JvbGwuYmluZC5qcyIsInNob3cuc3Bpbm5lci5qcyIsInN2Zy5yb290LmpzIiwibGluZS5qcyIsImxpbmUuZ3JvdXAuanMiLCJwYXRoLmpzIiwicHJldmlldy5qcyIsImNhdGFsb2cuanMiLCJzY3JvbGwuanMiLCJzdmcucGFydHMuanMiLCJ1dGlscy5qcyIsIkJpbmRhYmxlLmpzIiwiU3ZnQW5pbWF0aW9uRGlyZWN0aXZlLmpzIiwiTGluZUdyb3VwLmpzIiwiUGF0aC5qcyIsIlN2Z1BhcnQuanMiLCJ0ZW1wbGF0ZXMuanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkNBQUEsV0FDQSxZQUNBLFNBQUEsT0FBQSxlQUFBLG1CQUNBLE1BQUEsVUFBQSxVQ0hBLFdBQ0EsWUFDQSxTQUFBLE9BQUEsZUFDQSxVQUFBLGNBQUEsS0FBQSxTQUFBLFNBQUEsR0FBQSxRQUNBLE9BQ0EsU0FBQSxJQUNBLE9BQUEsRUFDQSxLQUFBLFNBQUEsTUFBQSxRQUFBLE9Bb0JBLFFBQUEsb0JBQUEsbUJBQ0EsSUFBQSxrQkFBQSxRQUdBLE9BQUEsS0FBQSxrQkFBQSxvQkFHQSxRQUFBLG1CQUFBLG1CQUNBLE1BQUEsVUFBQSxXQUNBLEVBQUEsUUFBQSxrQkFBQSxTQUFBLFVBQ0EsTUFBQSxVQUFBLFlBRUEsTUFBQSxVQS9CQSxHQUFBLFNBQ0EsSUFBQSxFQUFBLFdBQUEsTUFBQSxXQUdBLE1BRkEsVUFBQSxNQUFBLGVBQ0EsUUFBQSxLQUFBLFNBSUEsSUFBQSxNQUFBLGdCQUFBLENBR0EsR0FBQSxpQkFBQSxNQUFBLGdCQUFBLFFBQUEsTUFBQSxJQUVBLEtBQ0EsR0FBQSxNQUFBLEtBQUEsTUFBQSxnQkFDQSxvQkFBQSxNQUNBLE1BQUEsR0FDQSxvQkFBQSw0QkN4QkEsV0FDQSxZQUNBLFNBQUEsT0FBQSxlQUNBLFVBQUEsZUFBQSxpQkFBQSxXQUFBLFNBQUEsZUFBQSxVQUNBLEdBQUEsV0FBQSxDQUVBLFFBQ0EsU0FBQSxJQUNBLE9BQUEsRUFDQSxTQUFBLEVBQ0EsS0FBQSxTQUFBLE1BQUEsUUFBQSxPQXFCQSxRQUFBLFNBQUEsTUFDQSxPQUFBLEVBQUEsWUFBQSxPQUFBLFNBQUEsS0FBQSxXQUFBLGNBR0EsUUFBQSxxQkFDQSxHQUFBLEtBQUEsZUFBQSxJQUFBLG9CQUNBLE9BQUEsU0FBQSxJQUNBLE9BQUEsUUFBQSxPQUdBLFFBQUEscUJBQUEsU0FBQSxXQUNBLEdBQUEsVUFBQSxVQUFBLFVBQ0EsVUFBQSxhQUFBLFNBQUEsV0FHQSxRQUFBLGVBQUEsSUFDQSxHQUFBLFNBcENBLEdBQUEsYUFBQSxRQUFBLE1BQUEsWUFDQSxJQUFBLGVBQUEsRUFBQSxDQUlBLE1BQUEsa0JBQUEsVUFDQSxXQUVBLElBQUEsZ0JBQUEsbUJBQ0EscUJBQUEsZUFBQSxHQUFBLFFBQUEsR0FFQSxJQUFBLGVBQUEsTUFBQSxTQUFBLGNBQUEsU0FBQSxLQUNBLFFBQUEsT0FDQSxjQUFBLGdCQUNBLDRCQ3pCQSxXQUNBLFlBQ0EsU0FBQSxPQUFBLGVBQ0EsVUFBQSxXQUFBLFdBQUEsU0FBQSxVQUNBLE9BQ0EsU0FBQSxJQUNBLE9BQUEsRUFDQSxLQUFBLFNBQUEsTUFBQSxTQUNBLEdBQUEsSUFBQSxRQUFBLEVBQ0EsSUFBQSxpQkFBQSxPQUFBLFdBQ0EsU0FBQSxXQUNBLE1BQUEsV0FBQSxpQkFDQSxNQUFBLGVBQUEsRUFDQSxNQUFBLFVBQ0EsZUNkQSxXQUNBLFlBQ0EsU0FBQSxPQUFBLGVBQ0EsVUFBQSxXQUFBLHdCQUFBLFNBQUEsdUJBQ0EsT0FDQSxTQUFBLElBQ0EsU0FBQSxFQUNBLE9BQ0EsTUFBQSxLQUVBLGtCQUFBLE1BQ0EsWUFBQSxnQkFDQSxLQUFBLFNBQUEsTUFBQSxTQVVBLFFBQUEsaUJBQ0EsTUFBQSxXQUFBLEtBQUEsWUFDQSxNQUFBLGtCQUFBLEtBQUEsWUFBQSxNQUFBLFlBQ0EsTUFBQSxlQUFBLEtBQUEsWUFBQSxNQUFBLG1CQUFBLEdBQ0EsTUFBQSxTQWJBLEdBQUEsSUFBQSxRQUFBLEdBQ0EsS0FBQSxHQUFBLHVCQUFBLEdBQUEsUUFDQSxTQUFBLEdBQ0EsTUFBQSxJQUNBLEtBQUEsTUFBQSxNQUFBLE1BR0EsT0FBQSxJQUFBLGdCQUFBLHVCQ3BCQSxXQUNBLFlBQ0EsU0FBQSxPQUFBLGVBQ0EsVUFBQSxlQUFBLFdBQ0EsT0FDQSxTQUFBLElBQ0EsU0FBQSxFQUNBLE9BQ0EsTUFBQSxLQUVBLGtCQUFBLE1BQ0EsWUFBQSxzQkFDQSxLQUFBLFNBQUEsT0FDQSxNQUFBLGNBQUEsU0FBQSxLQUNBLE1BQUEsTUFBQSxrQkFBQSxhQ2RBLFdBQ0EsWUFDQSxTQUFBLE9BQUEsZUFDQSxVQUFBLFdBQUEsd0JBQUEsU0FBQSx1QkFDQSxPQUNBLFNBQUEsSUFDQSxTQUFBLEVBQ0EsT0FDQSxNQUFBLEtBRUEsa0JBQUEsTUFDQSxZQUFBLGdCQUNBLEtBQUEsU0FBQSxNQUFBLFNBYUEsUUFBQSxpQkFDQSxNQUFBLFdBQUEsS0FBQSxZQUNBLE1BQUEsa0JBQUEsS0FBQSxZQUFBLE1BQUEsWUFDQSxNQUFBLGVBQUEsS0FBQSxZQUFBLE1BQUEsbUJBQUEsR0FDQSxNQUFBLFNBaEJBLEdBQUEsSUFBQSxRQUFBLEdBRUEsS0FBQSxHQUFBLHVCQUFBLEdBQUEsT0FFQSxPQUFBLElBQUEsZ0JBQUEsZUFFQSxNQUFBLGNBQUEsU0FBQSxLQUNBLE1BQUEsTUFBQSxrQkFBQSxjQ3BCQSxXQUNBLFlBQ0EsU0FBQSxPQUFBLGVBQ0EsV0FBQSxlQUFBLFdBQUEsU0FBQSxTQUFBLFNBQUEsUUFDQSxHQUFBLE1BQUEsSUFDQSxNQUFBLFFBQUEsU0FBQSxPQUVBLFNBQUEsZ0JBRUEsT0FBQSxJQUFBLGtCQUFBLFNBQUEsTUFBQSxLQUNBLFNBQUEsV0FBQSxRQUFBLElBQ0EsU0FBQSxVQUFBLEtBQUEsUUFBQSxZQ1hBLFdBQ0EsWUFDQSxTQUFBLE9BQUEsZUFDQSxRQUFBLFVBQUEsV0FPQSxRQUFBLFdBTkEsT0FDQSxPQUFBLGFDTEEsV0FDQSxZQUNBLFNBQUEsT0FBQSxlQUNBLFFBQUEsVUFBQSxXQUFBLFNBQUEsVUFnQkEsUUFBQSxnQkFDQSxzQkFBQSxFQUFBLFNBQUEsYUFBQSxLQUNBLE9BQUEsaUJBQUEsU0FBQSx1QkFHQSxRQUFBLGdCQUNBLE9BQUEsb0JBQUEsU0FBQSx1QkFHQSxRQUFBLGdCQUNBLEdBQUEsV0FBQSxPQUFBLFNBQUEsZ0JBQUEsU0FJQSxPQUhBLEtBQUEsWUFDQSxVQUFBLE9BQUEsU0FBQSxLQUFBLFdBRUEsVUFHQSxRQUFBLGdCQUNBLEdBQUEsV0FBQSxjQUVBLE1BQUEsT0FBQSxXQW5DQSxHQUFBLE1BQUEsSUFFQSxHQUFBLE9BQUEsS0FBQSxFQUFBLE9BQUEsR0FBQSxXQUNBLFNBQUEsYUFDQSxTQUFBLGVBR0EsSUFBQSxzQkFFQSxRQUNBLEtBQUEsS0FBQSxZQ2RBLFdBQ0EsWUFDQSxTQUFBLE9BQUEsZUFDQSxRQUFBLFlBQUEsUUFBQSxVQUFBLE9BQUEsWUFBQSxTQUFBLE1BQUEsUUFBQSxLQUFBLFdBbUJBLFFBQUEsS0FBQSxJQUFBLE9BQ0EsSUFBQSxNQUFBLE1BQUEsT0FBQSxNQUFBLEtBQ0EsTUFBQSxLQUVBLElBQUEsY0FBQSxPQUFBLElBQ0EsSUFBQSxhQUNBLE1BQUEsS0FHQSxJQUFBLE9BQUEsU0FBQSxNQUFBLEtBQ0EsT0FBQSxjQUlBLE1BQUEsS0FBQSxHQUFBLE9BQUEsSUFBQSxPQUNBLE9BSkEsS0FPQSxRQUFBLFVBQUEsS0FDQSxNQUFBLFNBQUEsTUFBQSxLQUdBLFFBQUEsUUFBQSxLQUNBLEdBQUEsTUFBQSxNQUFBLElBQ0EsT0FBQSxNQUNBLEtBRUEsS0FHQSxRQUFBLFVBQ0EsTUFBQSxPQUdBLFFBQUEsV0FBQSxJQUFBLE9BQ0EsR0FBQSxNQUFBLE9BQUEsSUFDQSxPQUFBLE1BSUEsRUFBQSxPQUFBLEtBQUEsT0FIQSxLQU1BLFFBQUEsV0FBQSxPQUlBLE1BSEEsR0FBQSxLQUFBLE1BQUEsU0FBQSxNQUNBLEVBQUEsT0FBQSxLQUFBLFNBRUEsTUFLQSxRQUFBLGlCQUNBLElBQUEsWUFDQSxLQUFBLE9BQ0EsS0FBQSxxUEFHQSxJQUFBLFdBQ0EsS0FBQSxPQUNBLEtBQUEsNFZBSUEsSUFBQSxjQUNBLEtBQUEsWUFDQSxLQUFBLDJxQkFNQSxJQUFBLFlBQ0EsS0FBQSxPQUNBLEtBQUEsc1JBR0EsSUFBQSxhQUNBLEtBQUEsT0FDQSxLQUFBLDRSQUdBLElBQUEsWUFDQSxLQUFBLE9BQ0EsS0FBQSx5V0FJQSxJQUFBLGVBQ0EsS0FBQSxZQUNBLEtBQUEsNHRCQU9BLElBQUEsWUFDQSxLQUFBLE9BQ0EsS0FBQSxpSUFFQSxJQUFBLFNBQ0EsS0FBQSxPQUNBLEtBQUEsb1ZBSUEsSUFBQSxRQUNBLEtBQUEsT0FDQSxLQUFBLGtHQUVBLElBQUEsUUFDQSxLQUFBLE9BQ0EsS0FBQSx1SUFFQSxJQUFBLGFBQ0EsS0FBQSxPQUNBLEtBQUEsMlJBR0EsSUFBQSxVQUNBLEtBQUEsT0FDQSxLQUFBLHFTQUdBLElBQUEsWUFDQSxLQUFBLE9BQ0EsS0FBQSxxZEFLQSxJQUFBLFNBQ0EsS0FBQSxPQUNBLEtBQUEscVBBR0EsSUFBQSxZQUNBLEtBQUEsT0FDQSxLQUFBLGtRQUdBLElBQUEsU0FDQSxLQUFBLE9BQ0EsS0FBQSxzREFHQSxJQUFBLFdBQ0EsS0FBQSxPQUNBLEtBQUEsNk9BdEtBLE1BQUEsUUFBQSxLQUFBLFNBQ0EsTUFBQSxRQUFBLFVBQUEsUUFFQSxJQUFBLFVBQ0EsU0FBQSxLQUFBLEtBQUEsVUFBQSxVQUVBLFFBQ0EsT0FBQSxPQUNBLE9BQUEsT0FDQSxVQUFBLFVBQ0EsVUFBQSxVQUNBLElBQUEsSUFDQSxjQUFBLHFCQ2pCQSxXQUNBLFlBQ0EsU0FBQSxPQUFBLGVBQ0EsUUFBQSxRQUFBLFdBT0EsUUFBQSxTQUFBLE1BQUEsS0FBQSxPQVNBLE1BUkEsT0FBQSxVQUFBLEVBQUEsT0FBQSxLQUFBLFVBQUEsRUFBQSxRQUNBLE9BQUEsS0FBQSxVQUNBLHFCQUFBLFNBQUEsSUFBQSxNQUNBLEtBQUEsTUFBQSxJQUFBLE9BRUEsWUFBQSxPQUNBLFFBRUEsTUFmQSxPQUNBLFFBQUEsY0NMQSxXQUNBLFlBQ0EsU0FBQSxPQUFBLGVBQ0EsUUFBQSxXQUFBLFdBQ0EsTUFBQSxZQWNBLFFBQUEsTUFBQSxVQUNBLEtBQUEsV0FBQSxLQUFBLFNBQ0EsSUFBQSxPQUFBLEtBQUEsV0FBQSxPQUFBLENBT0EsT0FMQSxLQUFBLE9BQ0EsS0FBQSxXQUVBLEtBQUEsVUFFQSxXQUNBLEtBQUEsV0FBQSxPQUFBLE1BQUEsR0FFQSxLQUFBLFlBRUEsSUFBQSxLQUFBLFdBQUEsUUFDQSxLQUFBLFlBS0EsUUFBQSxVQUNBLEdBQUEsTUFBQSxTQUNBLEdBQUEsUUFBQSxLQUFBLFdBQUEsU0FBQSxVQUNBLFNBQUEsTUFBQSxLQUFBLFFBcENBLEdBQUEsTUFBQSxJQUVBLE1BQUEsU0FBQSxRQUFBLEtBQ0EsS0FBQSxRQUFBLFFBQUEsS0FDQSxLQUFBLFVBQUEsUUFBQSxLQUNBLEtBQUEsU0FBQSxRQUFBLEtBRUEsS0FBQSxjQUNBLEtBQUEsS0FBQSxLQUNBLEtBQUEsT0FBQSxhQ2RBLFdBQ0EsWUFDQSxTQUFBLE9BQUEsZUFDQSxRQUFBLHdCQUFBLFdBQ0EsTUFBQSxVQUFBLEdBQUEsS0FBQSxTQW9DQSxRQUFBLGlCQUNBLE1BQUEsTUFBQSxHQUFBLGlCQUdBLFFBQUEsaUJBQ0EsR0FBQSxHQUFBLEtBQUEsSUFBQSxLQUFBLEtBQUEsR0FBQSxLQUFBLEtBQUEsSUFDQSxFQUFBLEtBQUEsSUFBQSxLQUFBLEtBQUEsR0FBQSxLQUFBLEtBQUEsR0FDQSxPQUFBLE1BQUEsS0FBQSxLQUFBLElBQUEsRUFBQSxHQUFBLEtBQUEsSUFBQSxFQUFBLElBMUNBLEdBQUEsTUFBQSxJQUNBLFNBQUEsWUFFQSxLQUFBLEdBQUEsR0FDQSxLQUFBLEtBQUEsS0FDQSxLQUFBLEtBQUEsUUFBQSxTQUVBLEtBQUEsU0FBQSxRQUFBLFVBQUEsS0FDQSxLQUFBLE1BQUEsUUFBQSxPQUFBLElBR0EsS0FBQSxZQUFBLFNBQUEsU0FBQSxjQUNBLEdBQUEsUUFBQSxhQUFBLFdBQUEsV0FDQSxVQUFBLFFBQUEsU0FBQSxXQUFBLE1BQ0EsUUFDQSxvQkFBQSxVQUNBLFVBQUEsWUFJQSxLQUFBLFlBQUEsU0FBQSxRQUNBLE1BQUEsTUFBQSxJQUFBLE9BQUEsS0FBQSxTQUFBLEtBQUEsT0FBQSxNQUdBLEtBQUEsVUFBQSxXQUNBLE9BQUEsS0FBQSxNQUNBLElBQUEsT0FDQSxNQUFBLGdCQUNBLEtBQUEsT0FDQSxNQUFBLGdCQUNBLFNBQ0EsTUFBQSxjQ3BDQSxXQUNBLFlBQ0EsU0FBQSxPQUFBLGVBQ0EsUUFBQSxZQUFBLFdBR0EsUUFBQSxNQUFBLFVBQ0EsS0FBQSxLQUFBLFNBQUEsTUFBQSxLQUdBLFFBQUEsYUFDQSxLQUFBLHFCQUFBLEtBQUEsV0FDQSxLQUFBLE1BQUEsT0FFQSxJQUFBLGNBQUEsS0FBQSxLQUFBLE1BQUEsSUFDQSxNQUFBLFFBRUEsSUFBQSxNQUFBLElBQ0EsR0FBQSxRQUFBLGFBQUEsU0FBQSxVQUNBLEtBQUEsTUFBQSxLQUFBLEdBQUEsTUFBQSxhQWZBLE1BQUEsZ0JDSkEsV0FDQSxZQUNBLFNBQUEsT0FBQSxlQUNBLFFBQUEsT0FBQSxXQUNBLE1BQUEsWUFDQSxLQUFBLHFCQUFBLEtBQUEsV0FDQSxLQUFBLE1BQUEsb0JDTkEsV0FDQSxZQUNBLFNBQUEsT0FBQSxlQUNBLFFBQUEsVUFBQSxXQUNBLE1BQUEsVUFBQSxJQUFBLE9BQ0EsTUFBQSxVQUNBLE1BQUEsSUFBQSxJQUNBLEVBQUEsT0FBQSxLQUFBLGFDUEEsUUFBQSxPQUFBLGVBQUEsS0FBQSxpQkFBQSxTQUFBLGdCQUFBLGVBQUEsSUFBQSxzQkFBQSxxTkFDQSxlQUFBLElBQUEsZ0JBQUEsNlRBQ0EsZUFBQSxJQUFBLGdCQUFBLHdTQUNBLGVBQUEsSUFBQSxtQkFBQSIsImZpbGUiOiJtYWluLm1pbi5qcyIsInNvdXJjZXNDb250ZW50IjpbIjsgKGZ1bmN0aW9uICgpIHtcclxuICAgICd1c2Ugc3RyaWN0JztcclxuICAgIGFuZ3VsYXIubW9kdWxlKCdiaWtlQnVpbGRlcicsIFsnbWdjcmVhLm5nU3RyYXAnXSlcclxuICAgICAgICAudmFsdWUoJ3ZlcnNpb24nLCAnMC4xJyk7XHJcbn0pKCk7IiwiOyAoZnVuY3Rpb24gKCkge1xyXG4gICAgJ3VzZSBzdHJpY3QnO1xyXG4gICAgYW5ndWxhci5tb2R1bGUoJ2Jpa2VCdWlsZGVyJylcclxuICAgICAgICAuZGlyZWN0aXZlKCdzY3JvbGxCaW5kJywgZnVuY3Rpb24gKCRxLCBzY3JvbGwpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgICAgIHJlc3RyaWN0OiAnQScsXHJcbiAgICAgICAgICAgICAgICBzY29wZTogdHJ1ZSxcclxuICAgICAgICAgICAgICAgIGxpbms6IGZ1bmN0aW9uIChzY29wZSwgZWxlbWVudCwgYXR0cnMpIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgY2FsbGJhY2s7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKF8uaXNGdW5jdGlvbihhdHRycy5zY29sbEJpbmQpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhbGxiYWNrID0gYXR0cnMuc2Nyb2xsQmluZDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgc2Nyb2xsLmJpbmQoY2FsbGJhY2spO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICBpZiAoIWF0dHJzLnVwZGF0ZVNjb3BlVmFscykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIHZhciB1cGRhdGVTY29wZVZhbHMgPSBhdHRycy51cGRhdGVTY29wZVZhbHMucmVwbGFjZSgvJy9naSwgJ1wiJyk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBqc29uID0gSlNPTi5wYXJzZSh1cGRhdGVTY29wZVZhbHMpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBiaW5kVmFsdWVzVG9TY3JvbGwoanNvbik7XHJcbiAgICAgICAgICAgICAgICAgICAgfSBjYXRjaCAoZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBiaW5kVmFsdWVzVG9TY3JvbGwoW3VwZGF0ZVNjb3BlVmFsc10pO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgZnVuY3Rpb24gYmluZFZhbHVlc1RvU2Nyb2xsKHNjb3BlS2V5c1RvVXBkYXRlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzY29wZUtleXNUb1VwZGF0ZS5sZW5ndGggPT09IDApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBzY3JvbGwuYmluZChnZXRVcGRhdGVWYWx1ZXNGbihzY29wZUtleXNUb1VwZGF0ZSkpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgZnVuY3Rpb24gZ2V0VXBkYXRlVmFsdWVzRm4oc2NvcGVLZXlzVG9VcGRhdGUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIHVwZGF0ZVZhbHVlcyhzY3JvbGxUb3ApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF8uZm9yRWFjaChzY29wZUtleXNUb1VwZGF0ZSwgZnVuY3Rpb24gKHNjb3BlS2V5KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2NvcGVbc2NvcGVLZXldID0gc2Nyb2xsVG9wO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzY29wZS4kYXBwbHkoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfTtcclxuICAgICAgICB9KTtcclxufSkoKTtcclxuXHJcbiIsIjsgKGZ1bmN0aW9uICgpIHtcclxuICAgICd1c2Ugc3RyaWN0JztcclxuICAgIGFuZ3VsYXIubW9kdWxlKCdiaWtlQnVpbGRlcicpXHJcbiAgICAgICAgLmRpcmVjdGl2ZSgnc2hvd1NwaW5uZXInLCBmdW5jdGlvbiAoJHRlbXBsYXRlQ2FjaGUsICRjb21waWxlKSB7XHJcbiAgICAgICAgICAgIHZhciBpZFBvc3RGaXggPSAwO1xyXG5cclxuICAgICAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgICAgIHJlc3RyaWN0OiAnQScsXHJcbiAgICAgICAgICAgICAgICBzY29wZTogdHJ1ZSxcclxuICAgICAgICAgICAgICAgIHByaW9yaXR5OiAxLFxyXG4gICAgICAgICAgICAgICAgbGluazogZnVuY3Rpb24gKHNjb3BlLCBlbGVtZW50LCBhdHRycykge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBzaG93U3Bpbm5lciA9IGdldEJvb2woYXR0cnMuc2hvd1NwaW5uZXIpO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChzaG93U3Bpbm5lciA9PT0gZmFsc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgc2NvcGUuc3Bpbm5lcktleVBvc3RGaXggPSBpZFBvc3RGaXg7XHJcbiAgICAgICAgICAgICAgICAgICAgaWRQb3N0Rml4Kys7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIHZhciBzcGlubmVyRWxlbWVudCA9IGdldFNwaW5uZXJFbGVtZW50KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgaW5zZXJ0QmVmb3JlRWxlbWVudChzcGlubmVyRWxlbWVudFswXSwgZWxlbWVudFswXSk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIHZhciByZW1vdmVPYnNlcnZlID0gYXR0cnMuJG9ic2VydmUoJ3Nob3dTcGlubmVyJywgZnVuY3Rpb24odmFsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghZ2V0Qm9vbCh2YWwpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZW1vdmVFbGVtZW50KHNwaW5uZXJFbGVtZW50KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlbW92ZU9ic2VydmUoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAvLy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS8vXHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGZ1bmN0aW9uIGdldEJvb2woYXR0cikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gIV8uaXNVbmRlZmluZWQoYXR0cikgJiYgYXR0ci50b1N0cmluZygpLnRvTG93ZXJDYXNlKCkgPT09ICd0cnVlJztcclxuICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGZ1bmN0aW9uIGdldFNwaW5uZXJFbGVtZW50KCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgdHBsID0gJHRlbXBsYXRlQ2FjaGUuZ2V0KCdzcGlubmVyLnRwbC5odG1sJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBsaW5rRm4gPSAkY29tcGlsZSh0cGwpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gbGlua0ZuKHNjb3BlKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGZ1bmN0aW9uIGluc2VydEJlZm9yZUVsZW1lbnQoaW5zZXJ0RWwsIHNpYmxpbmdFbCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgcGFyZW50RWwgPSBzaWJsaW5nRWwucGFyZW50Tm9kZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcGFyZW50RWwuaW5zZXJ0QmVmb3JlKGluc2VydEVsLCBzaWJsaW5nRWwpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgZnVuY3Rpb24gcmVtb3ZlRWxlbWVudChlbCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbC5yZW1vdmUoKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgfSk7XHJcbn0pKCk7IiwiOyAoZnVuY3Rpb24gKCkge1xyXG4gICAgJ3VzZSBzdHJpY3QnO1xyXG4gICAgYW5ndWxhci5tb2R1bGUoJ2Jpa2VCdWlsZGVyJylcclxuICAgICAgICAuZGlyZWN0aXZlKCdzdmdSb290JywgZnVuY3Rpb24gKCR0aW1lb3V0KSB7XHJcbiAgICAgICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgICAgICByZXN0cmljdDogJ0EnLFxyXG4gICAgICAgICAgICAgICAgc2NvcGU6IHRydWUsXHJcbiAgICAgICAgICAgICAgICBsaW5rOiBmdW5jdGlvbiAoc2NvcGUsIGVsZW1lbnQpIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgZWwgPSBlbGVtZW50WzBdO1xyXG4gICAgICAgICAgICAgICAgICAgIGVsLmFkZEV2ZW50TGlzdGVuZXIoJ2xvYWQnLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICR0aW1lb3V0KGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNjb3BlLiRicm9hZGNhc3QoJ3N2Z1Jvb3RMb2FkZWQnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNjb3BlLnN2Z1Jvb3RMb2FkZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2NvcGUuJGFwcGx5KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sIDcwMCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxufSkoKTsiLCI7IChmdW5jdGlvbiAoKSB7XHJcbiAgICAndXNlIHN0cmljdCc7XHJcbiAgICBhbmd1bGFyLm1vZHVsZSgnYmlrZUJ1aWxkZXInKVxyXG4gICAgICAgIC5kaXJlY3RpdmUoJ3N2Z0xpbmUnLCBmdW5jdGlvbiAoU3ZnQW5pbWF0aW9uRGlyZWN0aXZlKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgICAgICByZXN0cmljdDogJ0EnLFxyXG4gICAgICAgICAgICAgICAgcmVwbGFjZTogdHJ1ZSxcclxuICAgICAgICAgICAgICAgIHNjb3BlOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgJ21vZGVsJzogJz0nXHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgdGVtcGxhdGVOYW1lc3BhY2U6ICdzdmcnLFxyXG4gICAgICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICdsaW5lLnRwbC5odG1sJyxcclxuICAgICAgICAgICAgICAgIGxpbms6IGZ1bmN0aW9uIChzY29wZSwgZWxlbWVudCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBlbCA9IGVsZW1lbnRbMF07XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGJhc2UgPSBuZXcgU3ZnQW5pbWF0aW9uRGlyZWN0aXZlKGVsLCAnbGluZScsIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbXNQclVuaXQ6IDIwLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBtYXhNczogMjAwMCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgZGF0YTogc2NvcGUubW9kZWwuZGF0YVxyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBzY29wZS4kb24oJ3N2Z1Jvb3RMb2FkZWQnLCBsb2FkQW5pbWF0aW9uKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgZnVuY3Rpb24gbG9hZEFuaW1hdGlvbigpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgc2NvcGUucGF0aExlbmd0aCA9IGJhc2UuZ2V0TGVuZ3RoKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNjb3BlLmFuaW1hdGlvbkR1cmF0aW9uID0gYmFzZS5nZXREdXJhdGlvbihzY29wZS5wYXRoTGVuZ3RoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgc2NvcGUuYW5pbWF0aW9uU3R5bGUgPSBiYXNlLmdldFN0eWxlT2JqKHNjb3BlLmFuaW1hdGlvbkR1cmF0aW9uLCBmYWxzZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNjb3BlLiRhcHBseSgpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfTtcclxuICAgICAgICB9KTtcclxufSkoKTtcclxuXHJcbiIsIjsgKGZ1bmN0aW9uICgpIHtcclxuICAgICd1c2Ugc3RyaWN0JztcclxuICAgIGFuZ3VsYXIubW9kdWxlKCdiaWtlQnVpbGRlcicpXHJcbiAgICAgICAgLmRpcmVjdGl2ZSgnc3ZnTGluZUdyb3VwJywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICAgICAgcmVzdHJpY3Q6ICdBJyxcclxuICAgICAgICAgICAgICAgIHJlcGxhY2U6IHRydWUsXHJcbiAgICAgICAgICAgICAgICBzY29wZToge1xyXG4gICAgICAgICAgICAgICAgICAgICdtb2RlbCc6ICc9J1xyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIHRlbXBsYXRlTmFtZXNwYWNlOiAnc3ZnJyxcclxuICAgICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAnbGluZS5ncm91cC50cGwuaHRtbCcsXHJcbiAgICAgICAgICAgICAgICBsaW5rOiBmdW5jdGlvbiAoc2NvcGUpIHtcclxuICAgICAgICAgICAgICAgICAgICBzY29wZS5oYW5kbGVDbGlja2VkID0gZnVuY3Rpb24gKGtleSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzY29wZS4kZW1pdCgnc3ZnUGFydDpjbGlja2VkJywga2V5KTtcclxuICAgICAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgIH0pO1xyXG59KSgpOyIsIjsgKGZ1bmN0aW9uICgpIHtcclxuICAgICd1c2Ugc3RyaWN0JztcclxuICAgIGFuZ3VsYXIubW9kdWxlKCdiaWtlQnVpbGRlcicpXHJcbiAgICAgICAgLmRpcmVjdGl2ZSgnc3ZnUGF0aCcsIGZ1bmN0aW9uIChTdmdBbmltYXRpb25EaXJlY3RpdmUpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgICAgIHJlc3RyaWN0OiAnQScsXHJcbiAgICAgICAgICAgICAgICByZXBsYWNlOiB0cnVlLFxyXG4gICAgICAgICAgICAgICAgc2NvcGU6IHtcclxuICAgICAgICAgICAgICAgICAgICAnbW9kZWwnOiAnPSdcclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICB0ZW1wbGF0ZU5hbWVzcGFjZTogJ3N2ZycsXHJcbiAgICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogJ3BhdGgudHBsLmh0bWwnLFxyXG4gICAgICAgICAgICAgICAgbGluazogZnVuY3Rpb24gKHNjb3BlLCBlbGVtZW50KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGVsID0gZWxlbWVudFswXTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGJhc2UgPSBuZXcgU3ZnQW5pbWF0aW9uRGlyZWN0aXZlKGVsLCAncGF0aCcpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBzY29wZS4kb24oJ3N2Z1Jvb3RMb2FkZWQnLCBsb2FkQW5pbWF0aW9uKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgc2NvcGUuaGFuZGxlQ2xpY2tlZCA9IGZ1bmN0aW9uIChrZXkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgc2NvcGUuJGVtaXQoJ3N2Z1BhcnQ6Y2xpY2tlZCcsIGtleSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgLy8tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0vL1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBmdW5jdGlvbiBsb2FkQW5pbWF0aW9uKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzY29wZS5wYXRoTGVuZ3RoID0gYmFzZS5nZXRMZW5ndGgoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgc2NvcGUuYW5pbWF0aW9uRHVyYXRpb24gPSBiYXNlLmdldER1cmF0aW9uKHNjb3BlLnBhdGhMZW5ndGgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzY29wZS5hbmltYXRpb25TdHlsZSA9IGJhc2UuZ2V0U3R5bGVPYmooc2NvcGUuYW5pbWF0aW9uRHVyYXRpb24sIGZhbHNlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgc2NvcGUuJGFwcGx5KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbn0pKCk7IiwiOyAoZnVuY3Rpb24gKCkge1xyXG4gICAgJ3VzZSBzdHJpY3QnO1xyXG4gICAgYW5ndWxhci5tb2R1bGUoJ2Jpa2VCdWlsZGVyJylcclxuICAgICAgICAuY29udHJvbGxlcignUHJldmlld0N0cmwnLCBmdW5jdGlvbiAoU3ZnUGFydHMsICRzY29wZSkge1xyXG4gICAgICAgICAgICB2YXIgY3RybCA9IHRoaXM7XHJcbiAgICAgICAgICAgIGN0cmwuZ2V0UGFydCA9IFN2Z1BhcnRzLmdldE9uZTtcclxuXHJcbiAgICAgICAgICAgIFN2Z1BhcnRzLnNldHVwUGFydERhdGEoKTtcclxuXHJcbiAgICAgICAgICAgICRzY29wZS4kb24oJ3N2Z1BhcnQ6Y2xpY2tlZCcsIGZ1bmN0aW9uIChldmVudCwga2V5KSB7XHJcbiAgICAgICAgICAgICAgICBTdmdQYXJ0cy51cGRhdGVBbGwoeyBhY3RpdmU6IGZhbHNlIH0pO1xyXG4gICAgICAgICAgICAgICAgU3ZnUGFydHMudXBkYXRlT25lKGtleSwgeyBhY3RpdmU6IHRydWUgfSk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0pO1xyXG59KSgpOyIsIjsgKGZ1bmN0aW9uICgpIHtcclxuICAgICd1c2Ugc3RyaWN0JztcclxuICAgIGFuZ3VsYXIubW9kdWxlKCdiaWtlQnVpbGRlcicpXHJcbiAgICAgICAgLnNlcnZpY2UoJ2NhdGFsb2cnLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgICAgICBnZXRBbGw6IGdldEFsbFxyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgLy8tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0vL1xyXG5cclxuICAgICAgICAgICAgZnVuY3Rpb24gZ2V0QWxsKCkge1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbn0pKCk7IiwiOyAoZnVuY3Rpb24gKCkge1xyXG4gICAgJ3VzZSBzdHJpY3QnO1xyXG4gICAgYW5ndWxhci5tb2R1bGUoJ2Jpa2VCdWlsZGVyJylcclxuICAgICAgICAuc2VydmljZSgnc2Nyb2xsJywgZnVuY3Rpb24gKEJpbmRhYmxlKSB7XHJcbiAgICAgICAgICAgIHZhciBzZWxmID0gdGhpcztcclxuXHJcbiAgICAgICAgICAgIF8uYXNzaWduKHNlbGYsIF8uYXNzaWduKG5ldyBCaW5kYWJsZSgpLCB7XHJcbiAgICAgICAgICAgICAgICBvbkF0dGFjaDogYXR0YWNoU2Nyb2xsLFxyXG4gICAgICAgICAgICAgICAgb25EZXRhY2g6IGRldGFjaFNjcm9sbFxyXG4gICAgICAgICAgICB9KSk7XHJcblxyXG4gICAgICAgICAgICB2YXIgdGhyb3R0bGVkSGFuZGxlU2Nyb2xsO1xyXG5cclxuICAgICAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgICAgICdiaW5kJzogc2VsZi5iaW5kXHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICAvLy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS8vXHJcblxyXG4gICAgICAgICAgICBmdW5jdGlvbiBhdHRhY2hTY3JvbGwoKSB7XHJcbiAgICAgICAgICAgICAgICB0aHJvdHRsZWRIYW5kbGVTY3JvbGwgPSBfLnRocm90dGxlKGhhbmRsZVNjcm9sbCwgMTAwKTtcclxuICAgICAgICAgICAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdzY3JvbGwnLCB0aHJvdHRsZWRIYW5kbGVTY3JvbGwpO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBmdW5jdGlvbiBkZXRhY2hTY3JvbGwoKSB7XHJcbiAgICAgICAgICAgICAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcignc2Nyb2xsJywgdGhyb3R0bGVkSGFuZGxlU2Nyb2xsKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgZnVuY3Rpb24gZ2V0U2Nyb2xsVG9wKCkge1xyXG4gICAgICAgICAgICAgICAgdmFyIHNjcm9sbFRvcCA9IHdpbmRvdy5kb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc2Nyb2xsVG9wO1xyXG4gICAgICAgICAgICAgICAgaWYgKHNjcm9sbFRvcCA9PT0gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHNjcm9sbFRvcCA9IHdpbmRvdy5kb2N1bWVudC5ib2R5LnNjcm9sbFRvcDtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHJldHVybiBzY3JvbGxUb3A7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGZ1bmN0aW9uIGhhbmRsZVNjcm9sbCgpIHtcclxuICAgICAgICAgICAgICAgIHZhciBzY3JvbGxUb3AgPSBnZXRTY3JvbGxUb3AoKTtcclxuXHJcbiAgICAgICAgICAgICAgICBzZWxmLmludm9rZShzY3JvbGxUb3ApO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbn0pKCk7IiwiOyAoZnVuY3Rpb24gKCkge1xyXG4gICAgJ3VzZSBzdHJpY3QnO1xyXG4gICAgYW5ndWxhci5tb2R1bGUoJ2Jpa2VCdWlsZGVyJylcclxuICAgICAgICAuc2VydmljZSgnU3ZnUGFydHMnLCBmdW5jdGlvbiAodXRpbHMsIFN2Z1BhcnQsIFBhdGgsIExpbmVHcm91cCkge1xyXG5cclxuICAgICAgICAgICAgdXRpbHMuaW5oZXJpdChQYXRoLCBTdmdQYXJ0KTtcclxuICAgICAgICAgICAgdXRpbHMuaW5oZXJpdChMaW5lR3JvdXAsIFN2Z1BhcnQpO1xyXG5cclxuICAgICAgICAgICAgdmFyIHBhcnRzID0ge307XHJcbiAgICAgICAgICAgIHZhciBjbGFzc2VzID0geyBQYXRoOiBQYXRoLCBMaW5lR3JvdXA6IExpbmVHcm91cCB9O1xyXG5cclxuICAgICAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgICAgIGdldE9uZTogZ2V0T25lLFxyXG4gICAgICAgICAgICAgICAgZ2V0QWxsOiBnZXRBbGwsXHJcbiAgICAgICAgICAgICAgICB1cGRhdGVPbmU6IHVwZGF0ZU9uZSxcclxuICAgICAgICAgICAgICAgIHVwZGF0ZUFsbDogdXBkYXRlQWxsLFxyXG4gICAgICAgICAgICAgICAgYWRkOiBhZGQsXHJcbiAgICAgICAgICAgICAgICBzZXR1cFBhcnREYXRhOiBzZXR1cFBhcnREYXRhXHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICAvLy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS8vXHJcblxyXG4gICAgICAgICAgICBmdW5jdGlvbiBhZGQoa2V5LCBwcm9wcykge1xyXG4gICAgICAgICAgICAgICAgaWYgKCFrZXkgfHwgIXByb3BzLnR5cGUgfHwgIXByb3BzLmRhdGEpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHZhciBleGlzdGluZ1BhcnQgPSBnZXRPbmUoa2V5KTtcclxuICAgICAgICAgICAgICAgIGlmIChleGlzdGluZ1BhcnQpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICB2YXIgQ2xhc3MgPSBnZXRDbGFzcyhwcm9wcy50eXBlKTtcclxuICAgICAgICAgICAgICAgIGlmICghY29uc3RydWN0b3IpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICBwYXJ0c1trZXldID0gbmV3IENsYXNzKGtleSwgcHJvcHMpO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHBhcnRzO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBmdW5jdGlvbiBnZXRDbGFzcyhrZXkpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBjbGFzc2VzW2tleV0gfHwgbnVsbDtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgZnVuY3Rpb24gZ2V0T25lKGtleSkge1xyXG4gICAgICAgICAgICAgICAgdmFyIHBhcnQgPSBwYXJ0c1trZXldO1xyXG4gICAgICAgICAgICAgICAgaWYgKHBhcnQpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcGFydDtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBmdW5jdGlvbiBnZXRBbGwoKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gcGFydHM7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGZ1bmN0aW9uIHVwZGF0ZU9uZShrZXksIHByb3BzKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgcGFydCA9IGdldE9uZShrZXkpO1xyXG4gICAgICAgICAgICAgICAgaWYgKCFwYXJ0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIF8uYXNzaWduKHBhcnQsIHByb3BzKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgZnVuY3Rpb24gdXBkYXRlQWxsKHByb3BzKSB7XHJcbiAgICAgICAgICAgICAgICBfLmVhY2gocGFydHMsIGZ1bmN0aW9uKHBhcnQpIHtcclxuICAgICAgICAgICAgICAgICAgICBfLmFzc2lnbihwYXJ0LCBwcm9wcyk7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIHJldHVybiBwYXJ0cztcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgXHJcblxyXG4gICAgICAgICAgICBmdW5jdGlvbiBzZXR1cFBhcnREYXRhKCkge1xyXG4gICAgICAgICAgICAgICAgYWRkKCdyZWFyVGlyZScsIHtcclxuICAgICAgICAgICAgICAgICAgICB0eXBlOiAnUGF0aCcsXHJcbiAgICAgICAgICAgICAgICAgICAgZGF0YTogJ00xOC45LDIyOS4xYy0yLTU1LjcsNDAuNC04Ny43LDg2LTg3LjhjNDMuOS0wLjEsODUsNDAuMyw4NSw4Ny44cy0zMS4xLDg2LTg1LDg2IEM2NC45LDMxNS4xLDIwLjgsMjgwLjQsMTguOSwyMjkuMXogTTEwNC4xLDMyMC4yYzU4LjgsMCwnICtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJzkyLjMtNDQuMyw5MS4zLTkwLjdjLTEtNDcuOC0zNi41LTkzLjMtOTAtOTMuM2MtNTEuNSwwLTk0LjgsMzUtOTIuNSw5NS44IEMxNC42LDI3Ny40LDU3LjEsMzIwLjIsMTA0LjEsMzIwLjJ6J1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICBhZGQoJ3JlYXJIdWInLCB7XHJcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogJ1BhdGgnLFxyXG4gICAgICAgICAgICAgICAgICAgIGRhdGE6ICdNMTAxLjUsMjIxYzUuOCwxLjUsOS40LDcuMyw3LjksMTNzLTcuNCw5LTEzLjIsNy41Yy01LjgtMS41LTkuNC03LjMtNy45LTEzIEM4OS44LDIyMi44LDk1LjcsMjE5LjUsMTAxLjUsMjIxeiBNMTA1LjEsMjM0LjFsLTIuNS0wLjZsMC43LCcgK1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAnMi40TDEwNS4xLDIzNC4xeiBNMTAwLjgsMjM3LjNsLTEuMy0yLjVsLTEuNiwzLjVMMTAwLjgsMjM3LjN6IE05NC43LDIzNC4xbC0yLDAuOWwyLjIsMi41TDk0LjcsMjM0LjF6IE05NCwyMzBsLTIuNy0xLjdsMC40LDMuNkw5NCwyMzB6IE05My43LCcgK1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAnMjI1LjJsMS45LDEuNmwwLTIuOUw5My43LDIyNS4yeiBNOTguNSwyMjMuNiBsMS41LDMuMmwxLTMuOEw5OC41LDIyMy42eidcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgYWRkKCdyZWFyU3Bva2VzJywge1xyXG4gICAgICAgICAgICAgICAgICAgIHR5cGU6ICdMaW5lR3JvdXAnLFxyXG4gICAgICAgICAgICAgICAgICAgIGRhdGE6ICc3OC44LDE1Ni4yLDk0LjgsMjIxLjF8OTMuMywxNTIuOCw5MS41LDIyMy4zfDk0LjgsMjIxLjEsMzIuOSwyMDYuMnw5My4zLDE1Mi44LDkxLjUsMjIzLjN8ODguNCwyMjkuNiwzOS42LDI2Mi40fDY1LjcsMTYxLjksMTAyLjksMjIxLjF8JyArXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICc1My41LDE3MC42LDEwNC4xLDIxNi4xfDEwOS40LDE1Mi44LDExMS42LDIxNy4zfDQzLjcsMTgxLjcsODguNCwyMzIuMXwzNy4xLDE5My40LDg4LjgsMjI3Ljh8MzAuOSwyMjEuMSw5OC45LDIyMC4zfDMwLjksMjM1LjgsOTMuMywyMzkuNXwnICtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJzg4LjgsMjMzLjYsNDcuNSwyNzQuOHwzNC4zLDI0OS40LDkxLjUsMjM4fDU4LjMsMjg2LjEsMTAwLjEsMjQxLjF8OTAuMiwyMzYuNiw4Mi42LDMwMC40fDk2LjEsMjQxLjEsOTYuMSwzMDMuNnw5OC45LDI0MS4xLDEzOS43LDI5Ni41fCcgK1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAnMTExLjYsMzAzLjcsMTA2LjYsMjM3Ljd8MTA2LjYsMjM3LjcsNzAsMjk0LjV8MTI1LjMsMzAxLjYsMTE0LjEsMjM2LjZ8MTYyLjIsMjc5LjIsMTE4LjEsMjM4fDEyMi44LDE1NC41LDExOC4xLDE4MS43fDE0OC45LDE2OS42LDEyNS4zLDE5Ni4xfCcgK1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAnMTYwLjQsMTgxLjcsMTE5LjMsMjI0LjV8MTY4LjksMTk0LjgsMTI3LjYsMjIzLjN8MTE1LjQsMjE3LjMsMTc2LDIwOS4xfDE3NS40LDI1MywxMDUuNCwyMzkuNXwxMDUuNCwyMzkuNSwxNTEuOSwyODkuMXwxNzAuNiwyNjUuOSwxMzMuOSwyMzkuNSdcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgYWRkKCdmcm9udFJpbScsIHtcclxuICAgICAgICAgICAgICAgICAgICB0eXBlOiAnUGF0aCcsXHJcbiAgICAgICAgICAgICAgICAgICAgZGF0YTogJ00zMjYuNywxNTcuN2MzOS40LTMwLjYsOTMuNC0yMS44LDEyMS45LDE2LjNjMjguNCwzOCwxNy4zLDg5LjctMTguOSwxMjAuNSBjLTIzLjEsMTkuNi04NS40LDI4LjYtMTIwLjQtMTYuNEMyODQuOCwyNDYuNSwyOTAuOSwxODUuNSwzMjYuNywnICtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJzE1Ny43eiBNMzE3LjgsMjcxLjhjMzAsMzguNiw3MS4yLDM5LDEwNC40LDE0LjEgczQxLjctNzIuNSwxNy4zLTEwNS4xYy0yNC40LTMyLjctNjcuOC00My43LTEwNS43LTEzLjJDMjk4LjgsMTk1LjcsMjk2LjcsMjQ0LjcsMzE3LjgsMjcxLjh6J1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICBhZGQoJ2Zyb250VGlyZScsIHtcclxuICAgICAgICAgICAgICAgICAgICB0eXBlOiAnUGF0aCcsXHJcbiAgICAgICAgICAgICAgICAgICAgZGF0YTogJ00zMjYuNywxNTcuN2MzOS40LTMwLjYsOTMuNC0yMS44LDEyMS45LDE2LjNjMjguNCwzOCwxNy4zLDg5LjctMTguOSwxMjAuNSBjLTIzLjEsMTkuNi04NS40LDI4LjYtMTIwLjQtMTYuNEMyODQuOCwyNDYuNSwyOTAuOSwxODUuNSwzMjYuNywnICtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJzE1Ny43eiBNMzA0LjQsMjgzLjdjMjcuOCw0MC45LDkwLjIsNDIsMTI3LjcsMTUuMyBjMzcuOC0yNi45LDUxLjMtOTEuNywyMC41LTEyOC43Yy0zMi40LTM5LTgwLjEtNTMuNS0xMzEuNy0xNS41QzI4Ni42LDE4MCwyNzMuNCwyMzgsMzA0LjQsMjgzLjd6J1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICBhZGQoJ2Zyb250SHViJywge1xyXG4gICAgICAgICAgICAgICAgICAgIHR5cGU6ICdQYXRoJyxcclxuICAgICAgICAgICAgICAgICAgICBkYXRhOiAnTTM3MC41LDIyNy4xYzAtNiw0LjctMTAuOSwxMC42LTEwLjljNS44LDAsMTAuNiw0LjksMTAuNiwxMC45UzM4Ni45LDIzOCwzODEsMjM4IEMzNzUuMiwyMzgsMzcwLjUsMjMzLjIsMzcwLjUsMjI3LjF6IE0zODIuMiwnICtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJzIyMC40djIuNmwyLjEtMS4zTDM4Mi4yLDIyMC40eiBNMzg2LjQsMjIzLjdsLTIuMSwxLjlsMy44LDAuN0wzODYuNCwyMjMuN3ogTTM4NC44LDIzMC40bDEuMywxLjdsMS45LTIuOEwzODQuOCwyMzAuNHogTTM4MSwyMzIuMmwtMSwnICtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJzMuMWwzLjQtMS4zTDM4MSwyMzIuMnogTTM3Ni41LDIzMy43bDEuMS0yLjNsLTIuOCwwLjhMMzc2LjUsMjMzLjd6IE0zNzMuNywyMjkuNGwyLjctMi4zaC0zLjlMMzczLjcsMjI5LjR6J1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICBhZGQoJ2Zyb250U3Bva2VzJywge1xyXG4gICAgICAgICAgICAgICAgICAgIHR5cGU6ICdMaW5lR3JvdXAnLFxyXG4gICAgICAgICAgICAgICAgICAgIGRhdGE6ICc0NTAuMSwyMDEuNCwzODguOCwyMTkuNHwzODguOCwyMTkuNCw0MjUuOSwxNjYuNHw0MzUuOCwxNzcuNywzOTIuMywyMjguMnw0NDQuNCwxODguMiwzODEuMywyMTYuMnw0NTIuNiwyMTYuMiwzOTMuMywyMjguMnw0NTMuMiwyMzAuNCwzODkuNiwyMzQuNHwnICtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJzQ1MC4xLDI0NC45LDM5MC41LDIyMi4yfDQ0NS4xLDI1OC42LDM5MS42LDIyNXw0MzcuNiwyNzAuNywzODUuNiwyMzh8NDI3LjcsMjgxLjQsMzgzLjUsMjM4fDQwMi40LDI5Ny4zLDM5MC41LDIzNC40fDM5MC41LDIzNC40LDQxNi4zLDI5MHwnICtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJzM3NC44LDMwMywzNzUuOCwyMzcuMXwzNTksMzAwLjksMzc5LjYsMjM4fDM0NC41LDI5NS4xLDM4NC4zLDIzOHwzMzMuNCwyODcuOCwzNjguNSwyMjguMnwzMjIuNSwyNzcuNCwzNzAuNSwyMzIuNHwzMTQuNiwyNjcuMiwzNzMuMywyMzUuMnwnICtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJzM3My4zLDIzNS4yLDM4OC44LDMwMS41fDMwNy44LDI1Mi43LDM3My43LDIzNy4xfDMwNC45LDIzOS41LDM2OS4zLDIyMC43fDMwNC40LDIyMy43LDM2OC41LDIyMi4yfDMwNi45LDIwOS4xLDM2OS4zLDIyOS40fDMxMi4xLDE5NC44LDM2OS4zLDIyOC4yfCcgK1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAnMzIwLjksMTgwLjYsMzYyLjgsMjA4LjJ8MzMwLjgsMTcwLjIsMzU0LjEsMTkxLjd8MzU1LjQsMTU0LjcsMzY3LjEsMTk0Ljh8MzcwLjUsMTUwLjUsMzgyLjUsMjE3LjN8Mzg1LjYsMTUwLjUsMzg4LjgsMjE5LjR8Mzk5LjQsMTUyLjIsMzc1LjMsMjEzLjJ8JyArXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICc0MTMuNSwxNTcuOSwzODIuMiwyMTUuOCdcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgYWRkKCdzZWF0TWFzdCcsIHtcclxuICAgICAgICAgICAgICAgICAgICB0eXBlOiAnUGF0aCcsXHJcbiAgICAgICAgICAgICAgICAgICAgZGF0YTogJ00xNTkuOSw4MC4xYzAsMC02LjEtMTQuNS02LTE2YzAuNS0zLDYtNi41LDYtNi41bC03LjksMS45bC0xMS40LDYuN2MwLDAsMy45LTEuMSw1LjksMC40IGMxLjQsMC43LDcuMywxNC43LDcuMywxNC43TDE1OS45LDgwLjEnXHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIGFkZCgnZnJhbWUnLCB7XHJcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogJ1BhdGgnLFxyXG4gICAgICAgICAgICAgICAgICAgIGRhdGE6ICdNMzI5LjQsNzcuN2wtMTAuMywzLjhsMS44LDRsLTE1Ni42LDEuOGwtMi4yLTcuNWwtOC44LDEuNWwyLjgsOS44bDEsM0w5Ny42LDIzMi40bDExLjcsMy40IGw5OC41LDEzLjZjMCwwLDUuOCwxLjgsMTAtMy40YzQuMy01LjMsMTE0LjMtMTIwLjUsJyArXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICcxMTQuMy0xMjAuNWwxLjMsNS41bDExLjEtNEwzMjkuNCw3Ny43eiBNMTA3LjksMjE5LjJsMjIuMy01Mi44bC0xOS42LDUzLjkgTDEwNy45LDIxOS4yeiBNMTE1LjQsMjI2LjJsLTEuMy00TDE2MC40LDEwM2w0NS4zLDEzNi41TDExNS40LCcgK1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAnMjI2LjJ6IE0yMTQuMSwyMzUuOEwxNjYuOSw5Ni43bDE1NS42LTIuM2w2LjcsMTkuNUwyMTQuMSwyMzUuOHonXHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIGFkZCgnZm9yaycsIHtcclxuICAgICAgICAgICAgICAgICAgICB0eXBlOiAnUGF0aCcsXHJcbiAgICAgICAgICAgICAgICAgICAgZGF0YTogJ00zMzMuNCwxMzFjMCwwLDMwLjEsOTcuMSw0NC44LDk5LjRjMTQsMi4yLDEuMi03LjgsMS4zLTcuNWMtNS0wLjYtMzUuOS05OC43LTM1LjEtOTZMMzMzLjQsMTMxeidcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgYWRkKCdzdGVtJywge1xyXG4gICAgICAgICAgICAgICAgICAgIHR5cGU6ICdQYXRoJyxcclxuICAgICAgICAgICAgICAgICAgICBkYXRhOiAnTTMxOS42LDgxLjNsNy43LTIuOGwtNi4yLTE4LjRjNi4yLTQuNCwxNS0zLjEsMTUtMy4xczcuMy03LjQtMC4zLTguMXMtMTMuOCwwLjUtMTguOSwwLjkgcy03LjcsMy4xLTcuNywzLjFsMS45LDEwLjJsMi0wLjJMMzE5LjYsODEuMydcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgYWRkKCdoYW5kbGVCYXInLCB7XHJcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogJ1BhdGgnLFxyXG4gICAgICAgICAgICAgICAgICAgIGRhdGE6ICdNMzQ1LjQsNTFjMCwwLDMuNywxLjIsMTAsNi42czguMSw4LjQsOSwxNS44YzAuOSw3LjQtNS40LDE0LjgtMTIuNywxOS4zIGMtNy4zLDQuNS0xMy43LDYuNy0yMS41LDZjLTcuOC0wLjctMTIuNS0xLjMtMTIuMi01LjZjMC4zLTQuNyw1LjktMC45LCcgK1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAnMTUtMS42czEyLjUtMy40LDE0LjktNS4yYzIuMi0xLjYsNC4yLTMsNi40LTguNiBzLTEuNS0xMS43LTQuOC0xNC44cy0xMy40LTUuMS0xNC45LTYuOGMtMS40LTEuNy0wLjgtNS42LDItNy42QzMzOS4yLDQ2LjQsMzQ1LjQsNTEsMzQ1LjQsNTF6J1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICBhZGQoJ3NhZGRsZScsIHtcclxuICAgICAgICAgICAgICAgICAgICB0eXBlOiAnUGF0aCcsXHJcbiAgICAgICAgICAgICAgICAgICAgZGF0YTogJ00xMzcuNSw2Ni42YzMuOS0wLjIsMTEuOS01LjgsMTEuOS01LjhzNy40LTQuMywxNi44LTRjOS40LDAuMywyMC0xLjUsMjAtMS41czEuOS0wLjYsMS0zLjMgYy0wLjktMi44LTYuNS00LjYtNi41LTQuNnMtNS45LTIuNy0xMS0yLjFjLTUuNiwwLjYtNi4xLCcgK1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAnMC44LTcuNiwxLjNjLTAuMywwLjEtMiwwLjctMi4zLDAuOGMtMi43LDAuNy0zLjUsMS4yLTEwLjksMC43IGMtOS4zLTAuNi0zNCwxLjUtMzQsMS41Yy03LjgsMS4yLTExLjgsNy0xMC4xLDEwLjNDMTA0LjksNTkuNywxMDkuOSw2Ny43LDEzNy41LDY2LjZ6J1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICBhZGQoJ2NyYW5rc2V0Jywge1xyXG4gICAgICAgICAgICAgICAgICAgIHR5cGU6ICdQYXRoJyxcclxuICAgICAgICAgICAgICAgICAgICBkYXRhOiAnTTIzNy4yLDI0NS43Yy0xLTEyLjUtMTEuMi0yMi43LTIzLjctMjMuN2MtMTUuOS0xLjMtMjkuMSwxMS45LTI3LjksMjcuOSBjMSwxMi41LDExLjIsMjIuNywyMy43LDIzLjdDMjI1LjMsMjc0LjgsMjM4LjUsMjYxLjYsMjM3LjIsMjQ1Ljd6IE0yMjcuMSwnICtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJzIzMC45bC0xNSwxMi41bC04LjItMTcgQzIxNy45LDIyMSwyMjcuMSwyMzAuOSwyMjcuMSwyMzAuOXogTTE5Ny41LDIzMC40bDkuMywxNi4zbC0xOC43LDAuN0MxODkuOSwyMzQuMSwxOTcuNSwyMzAuNCwxOTcuNSwyMzAuNHogTTIwMy44LCcgK1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAnMjY5LjIgYy0xMi4yLTMuMS0xNS45LTE2LjctMTUuOS0xNi43bDE5LjItMS45TDIwMy44LDI2OS4yeiBNMjA5LjMsMjY5LjlsMy42LTE3LjdsMTUuMywxMC45QzIyMi4xLDI3Mi41LDIwOS4zLDI2OS45LDIwOS4zLDI2OS45eiAnICtcclxuICAgICAgICAgICAgICAgICAgICAnTTIzMiwyNThsLTE1LjgtMTAuNGwxNC41LTEyLjJDMjM4LjgsMjQ2LjIsMjMyLDI1OCwyMzIsMjU4eidcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgYWRkKCdjaGFpbicsIHtcclxuICAgICAgICAgICAgICAgICAgICB0eXBlOiAnUGF0aCcsXHJcbiAgICAgICAgICAgICAgICAgICAgZGF0YTogJ00yMTQuNCwyMjIuMmMtMTktMS4xLTk5LDIuNy05OSwyLjdsLTEuMy0yLjdsOTEuNS0zYy04LDEuMSwzNC4zLTUuOSwzMy42LDI2LjcgYy0wLjgsMzIuNS0yOSwzMC0yOSwzMHMtOS45LCcgK1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAnMC0yMS40LTMuNWMtOC45LTIuNy05MC0yOC4xLTkwLTI4LjFsMi44LTIuOGw4NywyNy4zYzAsMCwxNC45LDMuNSwyMS40LDMuMiBjMTUuNSwwLDI0LjYtNi45LDI1LjMtMjUuMUMyMzUsMjI5LjYsMjIwLjgsMjIyLjIsMjE0LjQsMjIyLjJ6J1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICBhZGQoJ3BlZGFsQXJtJywge1xyXG4gICAgICAgICAgICAgICAgICAgIHR5cGU6ICdQYXRoJyxcclxuICAgICAgICAgICAgICAgICAgICBkYXRhOiAnTTI2My4xLDIzNy43Yy0wLjQtMC4xLTYuNS0wLjYtMTMsMS45Yy01LjgsMy0yNi4xLDIuMy0yNi4xLDIuM3MtOS40LTAuMi0xMi42LDAuMSBjLTUuOCwwLjQtNS44LDMuOS01LjgsMy45czAuNCwyLjcsMi4xLDRjMS45LDEuNCw2LjQsMS41LDksJyArXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICcxYzEuOC0wLjMsMTIuMy0yLjEsMTQuMy0yLjFjNC43LTAuMSwxNC4xLTAuNSwxNi0wLjQgczEwLjMsMi4yLDE0LjYsMS45YzYuMywwLjEsOC40LTMuNSw4LjYtNVMyNjksMjM4LjYsMjYzLjEsMjM3Ljd6J1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICBhZGQoJ3BlZGFsJywge1xyXG4gICAgICAgICAgICAgICAgICAgIHR5cGU6ICdQYXRoJyxcclxuICAgICAgICAgICAgICAgICAgICBkYXRhOiAnTTI0My42LDI0OS43IDI3MS42LDIzMi40IDI3Ny45LDIzNi42IDI0NS40LDI1NC4yeidcclxuICAgICAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgICAgIGFkZCgncmVhclJpbScsIHtcclxuICAgICAgICAgICAgICAgICAgICB0eXBlOiAnUGF0aCcsXHJcbiAgICAgICAgICAgICAgICAgICAgZGF0YTogJ00xOC45LDIyOS4xYy0yLTU1LjcsNDAuNC04Ny43LDg2LTg3LjhjNDMuOS0wLjEsODUsNDAuMyw4NSw4Ny44cy0zMS4xLDg2LTg1LDg2IEM2NC45LDMxNS4xLDIwLjgsMjgwLjQsMTguOSwyMjkuMXogTTEwNC45LDMwNC41YzQ4LjktMC45LCcgK1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAnNzMuOC0zMy43LDczLjgtNzUuMnMtMzMuMS03Ni44LTczLjgtNzYuOHMtNzUuNiwyOC4xLTczLjgsNzYuOCBDMzIuNywyNzQuMiw3MC42LDMwNS4yLDEwNC45LDMwNC41eidcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbn0pKCk7IiwiOyAoZnVuY3Rpb24gKCkge1xyXG4gICAgJ3VzZSBzdHJpY3QnO1xyXG4gICAgYW5ndWxhci5tb2R1bGUoJ2Jpa2VCdWlsZGVyJylcclxuICAgICAgICAuc2VydmljZSgndXRpbHMnLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgICAgICAnaW5oZXJpdCc6IGluaGVyaXRcclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIC8vLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLy9cclxuXHJcbiAgICAgICAgICAgIGZ1bmN0aW9uIGluaGVyaXQoY2hpbGQsIGJhc2UsIHByb3BzKSB7XHJcbiAgICAgICAgICAgICAgICBjaGlsZC5wcm90b3R5cGUgPSBfLmNyZWF0ZShiYXNlLnByb3RvdHlwZSwgXy5hc3NpZ24oe1xyXG4gICAgICAgICAgICAgICAgICAgICdfc3VwZXInOiBiYXNlLnByb3RvdHlwZSxcclxuICAgICAgICAgICAgICAgICAgICAnY2FsbFN1cGVyQ29uc3RydWN0b3InOiBmdW5jdGlvbiAoY3R4LCBhcmdzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJhc2UuYXBwbHkoY3R4LCBhcmdzKTtcclxuICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgICdjb25zdHJ1Y3Rvcic6IGNoaWxkXHJcbiAgICAgICAgICAgICAgICB9LCBwcm9wcykpO1xyXG5cclxuICAgICAgICAgICAgICAgIHJldHVybiBjaGlsZDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG59KSgpOyIsIjsgKGZ1bmN0aW9uICgpIHtcclxuICAgICd1c2Ugc3RyaWN0JztcclxuICAgIGFuZ3VsYXIubW9kdWxlKCdiaWtlQnVpbGRlcicpXHJcbiAgICAgICAgLnNlcnZpY2UoJ0JpbmRhYmxlJywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICByZXR1cm4gZnVuY3Rpb24gQmluZGFibGUoKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgc2VsZiA9IHRoaXM7XHJcblxyXG4gICAgICAgICAgICAgICAgdGhpcy5vbkF0dGFjaCA9IGFuZ3VsYXIubm9vcDtcclxuICAgICAgICAgICAgICAgIHRoaXMub25Cb3VuZCA9IGFuZ3VsYXIubm9vcDtcclxuICAgICAgICAgICAgICAgIHRoaXMub25VbkJvdW5kID0gYW5ndWxhci5ub29wO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5vbkRldGFjaCA9IGFuZ3VsYXIubm9vcDtcclxuXHJcbiAgICAgICAgICAgICAgICB0aGlzWydfY2FsbGJhY2tzJ10gPSBbXTtcclxuICAgICAgICAgICAgICAgIHRoaXMuYmluZCA9IGJpbmQ7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmludm9rZSA9IGludm9rZTtcclxuXHJcbiAgICAgICAgICAgICAgICAvLy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLy9cclxuXHJcbiAgICAgICAgICAgICAgICBmdW5jdGlvbiBiaW5kKGNhbGxiYWNrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgc2VsZlsnX2NhbGxiYWNrcyddLnB1c2goY2FsbGJhY2spO1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBpbmRleCA9IHNlbGZbJ19jYWxsYmFja3MnXS5sZW5ndGggLSAxO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBpZiAoaW5kZXggPT09IDApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5vbkF0dGFjaCgpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBzZWxmLm9uQm91bmQoKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIHVuYmluZCgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgc2VsZlsnX2NhbGxiYWNrcyddLnNwbGljZShpbmRleCwgMSk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBzZWxmLm9uVW5Cb3VuZCgpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHNlbGZbJ19jYWxsYmFja3MnXS5sZW5ndGggPT09IDApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYub25EZXRhY2goKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICAgICAgZnVuY3Rpb24gaW52b2tlKCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBhcmdzID0gYXJndW1lbnRzO1xyXG4gICAgICAgICAgICAgICAgICAgIF8uZm9yRWFjaChzZWxmWydfY2FsbGJhY2tzJ10sIGZ1bmN0aW9uIChjYWxsYmFjaykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjYWxsYmFjay5hcHBseShudWxsLCBhcmdzKTtcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG59KSgpOyIsIjsgKGZ1bmN0aW9uICgpIHtcclxuICAgICd1c2Ugc3RyaWN0JztcclxuICAgIGFuZ3VsYXIubW9kdWxlKCdiaWtlQnVpbGRlcicpXHJcbiAgICAgICAgLnNlcnZpY2UoJ1N2Z0FuaW1hdGlvbkRpcmVjdGl2ZScsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIEFuaW1hdGlvblBhcnQoZWwsIHR5cGUsIG9wdGlvbnMpIHtcclxuICAgICAgICAgICAgICAgIHZhciBzZWxmID0gdGhpcztcclxuICAgICAgICAgICAgICAgIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xyXG5cclxuICAgICAgICAgICAgICAgIHRoaXMuZWwgPSBlbDtcclxuICAgICAgICAgICAgICAgIHRoaXMudHlwZSA9IHR5cGU7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmRhdGEgPSBvcHRpb25zLmRhdGEgfHwge307XHJcblxyXG4gICAgICAgICAgICAgICAgdGhpcy5tc1ByVW5pdCA9IG9wdGlvbnMubXNQclVuaXQgfHwgNC4xNjtcclxuICAgICAgICAgICAgICAgIHRoaXMubWF4TXMgPSBvcHRpb25zLm1heE1zIHx8IDUwMDA7XHJcbiAgICAgICAgICAgICAgICBcclxuXHJcbiAgICAgICAgICAgICAgICB0aGlzLmdldFN0eWxlT2JqID0gZnVuY3Rpb24gc2V0QW5pbWF0aW9uU3R5bGUoZHVyYXRpb24sIHNob3VsZFJlcGVhdCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciByZXBlYXQgPSBzaG91bGRSZXBlYXQgPyAnaW5maW5pdGUnIDogJ2ZvcndhcmRzJztcclxuICAgICAgICAgICAgICAgICAgICB2YXIgYW5pbWF0aW9uID0gJ2Rhc2ggJyArIGR1cmF0aW9uICsgJyBsaW5lYXIgJyArIHJlcGVhdDtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAnLXdlYmtpdC1hbmltYXRpb24nOiBhbmltYXRpb24sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICdhbmltYXRpb24nOiBhbmltYXRpb25cclxuICAgICAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIHRoaXMuZ2V0RHVyYXRpb24gPSBmdW5jdGlvbiAobGVuZ3RoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIE1hdGgubWluKGxlbmd0aCAqIHRoaXMubXNQclVuaXQsIHRoaXMubWF4TXMpICsgJ21zJztcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICB0aGlzLmdldExlbmd0aCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICBzd2l0Y2ggKHRoaXMudHlwZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlICdwYXRoJzpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBnZXRQYXRoTGVuZ3RoKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgJ2xpbmUnOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGdldExpbmVMZW5ndGgoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICBmdW5jdGlvbiBnZXRQYXRoTGVuZ3RoKCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBzZWxmLmVsLmdldFRvdGFsTGVuZ3RoKCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgZnVuY3Rpb24gZ2V0TGluZUxlbmd0aCgpIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgeCA9IE1hdGguYWJzKHNlbGYuZGF0YVswXSAtIHNlbGYuZGF0YVsyXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHkgPSBNYXRoLmFicyhzZWxmLmRhdGFbMV0gLSBzZWxmLmRhdGFbM10pO1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBNYXRoLnNxcnQoTWF0aC5wb3coeCwgMikgKyBNYXRoLnBvdyh5LCAyKSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxufSkoKTsiLCI7IChmdW5jdGlvbiAoKSB7XHJcbiAgICAndXNlIHN0cmljdCc7XHJcbiAgICBhbmd1bGFyLm1vZHVsZSgnYmlrZUJ1aWxkZXInKVxyXG4gICAgICAgIC5zZXJ2aWNlKCdMaW5lR3JvdXAnLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBMaW5lR3JvdXA7XHJcblxyXG4gICAgICAgICAgICBmdW5jdGlvbiBMaW5lKGxpbmVEYXRhKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmRhdGEgPSBsaW5lRGF0YS5zcGxpdCgnLCcpO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBmdW5jdGlvbiBMaW5lR3JvdXAoKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmNhbGxTdXBlckNvbnN0cnVjdG9yKHRoaXMsIGFyZ3VtZW50cyk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmNvbG9yID0gJ2JsYWNrJztcclxuXHJcbiAgICAgICAgICAgICAgICB2YXIgbGluZXNEYXRhQXJyID0gdGhpcy5kYXRhLnNwbGl0KCd8Jyk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmxpbmVzID0gW107XHJcblxyXG4gICAgICAgICAgICAgICAgdmFyIHNlbGYgPSB0aGlzO1xyXG4gICAgICAgICAgICAgICAgXy5mb3JFYWNoKGxpbmVzRGF0YUFyciwgZnVuY3Rpb24gKGxpbmVEYXRhKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgc2VsZi5saW5lcy5wdXNoKG5ldyBMaW5lKGxpbmVEYXRhKSk7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG59KSgpOyIsIjsgKGZ1bmN0aW9uICgpIHtcclxuICAgICd1c2Ugc3RyaWN0JztcclxuICAgIGFuZ3VsYXIubW9kdWxlKCdiaWtlQnVpbGRlcicpXHJcbiAgICAgICAgLnNlcnZpY2UoJ1BhdGgnLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBmdW5jdGlvbiBQYXRoKCkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5jYWxsU3VwZXJDb25zdHJ1Y3Rvcih0aGlzLCBhcmd1bWVudHMpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5jb2xvciA9ICd0cmFuc3BhcmVudCc7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxufSkoKTsiLCI7IChmdW5jdGlvbiAoKSB7XHJcbiAgICAndXNlIHN0cmljdCc7XHJcbiAgICBhbmd1bGFyLm1vZHVsZSgnYmlrZUJ1aWxkZXInKVxyXG4gICAgICAgIC5zZXJ2aWNlKCdTdmdQYXJ0JywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICByZXR1cm4gZnVuY3Rpb24gU1ZHUGFydChrZXksIHByb3BzKSB7XHJcbiAgICAgICAgICAgICAgICBwcm9wcyA9IHByb3BzIHx8IHt9O1xyXG4gICAgICAgICAgICAgICAgcHJvcHMua2V5ID0ga2V5O1xyXG4gICAgICAgICAgICAgICAgXy5hc3NpZ24odGhpcywgcHJvcHMpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbn0pKCk7IiwiYW5ndWxhci5tb2R1bGUoXCJiaWtlQnVpbGRlclwiKS5ydW4oW1wiJHRlbXBsYXRlQ2FjaGVcIiwgZnVuY3Rpb24oJHRlbXBsYXRlQ2FjaGUpIHskdGVtcGxhdGVDYWNoZS5wdXQoXCJsaW5lLmdyb3VwLnRwbC5odG1sXCIsXCI8ZyBpZD17e21vZGVsLmtleX19IG5nLWNsaWNrPVxcXCJoYW5kbGVDbGlja2VkKG1vZGVsLmtleSlcXFwiIG5nLWNsYXNzPVxcXCJbbW9kZWwuY29sb3IsIG1vZGVsLmtleSwgbW9kZWwuYWN0aXZlID8gXFwnYWN0aXZlXFwnIDogXFwnXFwnXVxcXCI+XFxyXFxuICAgIDxsaW5lIHN2Zy1saW5lIG5nLXJlcGVhdD1cXFwibGluZSBpbiBtb2RlbC5saW5lc1xcXCIgbW9kZWw9XFxcImxpbmVcXFwiPjwvbGluZT5cXHJcXG48L2c+XCIpO1xuJHRlbXBsYXRlQ2FjaGUucHV0KFwibGluZS50cGwuaHRtbFwiLFwiPGxpbmUgZmlsbD1cXFwibm9uZVxcXCIgbmctY2xhc3M9XFxcIlttb2RlbC5rZXksIG1vZGVsLnR5cGVdXFxcIiBuZy1zdHlsZT1cXFwiYW5pbWF0aW9uU3R5bGVcXFwiXFxyXFxuICAgICAgbmctYXR0ci14MT1cXFwie3ttb2RlbC5kYXRhWzBdfX1cXFwiIG5nLWF0dHIteTE9XFxcInt7bW9kZWwuZGF0YVsxXX19XFxcIiBuZy1hdHRyLXgyPVxcXCJ7e21vZGVsLmRhdGFbMl19fVxcXCIgbmctYXR0ci15Mj1cXFwie3ttb2RlbC5kYXRhWzNdfX1cXFwiIFxcclxcbiAgICAgIG5nLWF0dHItc3Ryb2tlLWRhc2hhcnJheT1cXFwie3twYXRoTGVuZ3RofX1cXFwiIG5nLWF0dHItc3Ryb2tlLWRhc2hvZmZzZXQ9XFxcInt7cGF0aExlbmd0aH19XFxcIiAvPlxcclxcblwiKTtcbiR0ZW1wbGF0ZUNhY2hlLnB1dChcInBhdGgudHBsLmh0bWxcIixcIjxwYXRoIGlkPXt7bW9kZWwua2V5fX0gZmlsbD1cXFwibm9uZVxcXCIgbmctY2xpY2s9XFxcImhhbmRsZUNsaWNrZWQobW9kZWwua2V5KVxcXCIgbmctY2xhc3M9XFxcIlttb2RlbC50eXBlLCBtb2RlbC5jb2xvciwgbW9kZWwuYWN0aXZlID8gXFwnYWN0aXZlXFwnIDogXFwnXFwnXVxcXCIgXFxyXFxuICAgICAgbmctc3R5bGU9XFxcImFuaW1hdGlvblN0eWxlXFxcIiBuZy1hdHRyLXN0cm9rZS1kYXNoYXJyYXk9XFxcInt7cGF0aExlbmd0aH19XFxcIiBuZy1hdHRyLXN0cm9rZS1kYXNob2Zmc2V0PVxcXCJ7e3BhdGhMZW5ndGh9fVxcXCIgbmctYXR0ci1kPVxcXCJ7e21vZGVsLmRhdGF9fVxcXCIgLz5cIik7XG4kdGVtcGxhdGVDYWNoZS5wdXQoXCJzcGlubmVyLnRwbC5odG1sXCIsXCI8ZGl2IGNsYXNzPVxcXCJzcGlubmVyXFxcIj5cXHJcXG4gICAgPGgzIGNsYXNzPVxcXCJsb2FkLXRleHRcXFwiPkxvYWRpbmcuLi48L2gzPlxcclxcbiAgICA8P3htbCB2ZXJzaW9uPVxcXCIxLjBcXFwiIGVuY29kaW5nPVxcXCJ1dGYtOFxcXCIgPz5cXHJcXG4gICAgPHN2ZyBpZD1cXFwic3Bpbm5lci1zdmd7e3NwaW5uZXJLZXlQb3N0Rml4fX1cXFwiIHZlcnNpb249XFxcIjEuMVxcXCIgaWQ9XFxcIkxheWVyXzFcXFwiIHhtbG5zPVxcXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1xcXCIgeG1sbnM6eGxpbms9XFxcImh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmtcXFwiIHg9XFxcIjBweFxcXCIgeT1cXFwiMHB4XFxcIlxcclxcbiAgICAgICAgIHZpZXdCb3g9XFxcIjIwNCA4OS4zIDI0My4zIDI0My4zXFxcIiBlbmFibGUtYmFja2dyb3VuZD1cXFwibmV3IDIwNCA4OS4zIDI0My4zIDI0My4zXFxcIiB4bWw6c3BhY2U9XFxcInByZXNlcnZlXFxcIj5cXHJcXG4gICAgPGcgaWQ9XFxcInNwaW5uZXItd3JhcHBlcnt7c3Bpbm5lcktleVBvc3RGaXh9fVxcXCI+PGcgaWQ9XFxcInNwaW5uZXItd2hlZWx7e3NwaW5uZXJLZXlQb3N0Rml4fX1cXFwiPlxcclxcbiAgICA8cGF0aCBpZD1cXFwic3Bpbm5lci1yaW17e3NwaW5uZXJLZXlQb3N0Rml4fX1cXFwiIGZpbGw9XFxcIm5vbmVcXFwiIGQ9XFxcIk0yNTkuNiwxMjUuMmM1MC4yLTM5LDExOS4xLTI3LjgsMTU1LjQsMjAuOGMzNi4yLDQ4LjUsMjIuMSwxMTQuNC0yNC4xLDE1My42XFxyXFxuXHRcdGMtMjkuNSwyNS0xMDguOSwzNi41LTE1My41LTIwLjlDMjA2LjEsMjM4LjQsMjEzLjksMTYwLjcsMjU5LjYsMTI1LjJ6IE0yNDguMiwyNzAuN2MzOC4zLDQ5LjIsOTAuOCw0OS43LDEzMy4xLDE4XFxyXFxuXHRcdHM1My4yLTkyLjQsMjIuMS0xMzRjLTMxLjEtNDEuNy04Ni40LTU1LjctMTM0LjgtMTYuOEMyMjQsMTczLjcsMjIxLjMsMjM2LjEsMjQ4LjIsMjcwLjd6XFxcIiAvPlxcclxcbiAgICA8ZyBpZD1cXFwic3Bpbm5lci1zcG9rZXN7e3NwaW5uZXJLZXlQb3N0Rml4fX1cXFwiPlxcclxcbiAgICA8bGluZSBmaWxsPVxcXCJub25lXFxcIiB4MT1cXFwiNDE2LjlcXFwiIHkxPVxcXCIxODAuOVxcXCIgeDI9XFxcIjMzOC43XFxcIiB5Mj1cXFwiMjAzLjlcXFwiIC8+XFxyXFxuICAgIDxsaW5lIGZpbGw9XFxcIm5vbmVcXFwiIHgxPVxcXCIzMzguN1xcXCIgeTE9XFxcIjIwMy45XFxcIiB4Mj1cXFwiMzg2XFxcIiB5Mj1cXFwiMTM2LjNcXFwiIC8+XFxyXFxuICAgIDxsaW5lIGZpbGw9XFxcIm5vbmVcXFwiIHgxPVxcXCIzOTguN1xcXCIgeTE9XFxcIjE1MC43XFxcIiB4Mj1cXFwiMzQzLjJcXFwiIHkyPVxcXCIyMTUuMVxcXCIgLz5cXHJcXG4gICAgPGxpbmUgZmlsbD1cXFwibm9uZVxcXCIgeDE9XFxcIjQwOS42XFxcIiB5MT1cXFwiMTY0LjFcXFwiIHgyPVxcXCIzMjkuMlxcXCIgeTI9XFxcIjE5OS44XFxcIiAvPlxcclxcbiAgICA8bGluZSBmaWxsPVxcXCJub25lXFxcIiB4MT1cXFwiNDIwLjFcXFwiIHkxPVxcXCIxOTkuOFxcXCIgeDI9XFxcIjM0My4yXFxcIiB5Mj1cXFwiMjE1LjFcXFwiIC8+XFxyXFxuICAgIDxsaW5lIGZpbGw9XFxcIm5vbmVcXFwiIHgxPVxcXCI0MjAuOVxcXCIgeTE9XFxcIjIxNy45XFxcIiB4Mj1cXFwiMzM5LjhcXFwiIHkyPVxcXCIyMjEuOVxcXCIgLz5cXHJcXG4gICAgPGxpbmUgZmlsbD1cXFwibm9uZVxcXCIgeDE9XFxcIjQxNi45XFxcIiB5MT1cXFwiMjM2LjRcXFwiIHgyPVxcXCIzNDAuOVxcXCIgeTI9XFxcIjIwNy40XFxcIiAvPlxcclxcbiAgICA8bGluZSBmaWxsPVxcXCJub25lXFxcIiB4MT1cXFwiNDEwLjVcXFwiIHkxPVxcXCIyNTMuOVxcXCIgeDI9XFxcIjM0Mi4zXFxcIiB5Mj1cXFwiMjExXFxcIiAvPlxcclxcbiAgICA8bGluZSBmaWxsPVxcXCJub25lXFxcIiB4MT1cXFwiNDAxXFxcIiB5MT1cXFwiMjY5LjNcXFwiIHgyPVxcXCIzMzQuMlxcXCIgeTI9XFxcIjIyNi40XFxcIiAvPlxcclxcbiAgICA8bGluZSBmaWxsPVxcXCJub25lXFxcIiB4MT1cXFwiMzg4LjNcXFwiIHkxPVxcXCIyODIuOVxcXCIgeDI9XFxcIjMzMlxcXCIgeTI9XFxcIjIyNy42XFxcIiAvPlxcclxcbiAgICA8bGluZSBmaWxsPVxcXCJub25lXFxcIiB4MT1cXFwiMzU2LjFcXFwiIHkxPVxcXCIzMDMuMlxcXCIgeDI9XFxcIjMzOS44XFxcIiB5Mj1cXFwiMjIxLjlcXFwiIC8+XFxyXFxuICAgIDxsaW5lIGZpbGw9XFxcIm5vbmVcXFwiIHgxPVxcXCIzNDAuOVxcXCIgeTE9XFxcIjIyMS45XFxcIiB4Mj1cXFwiMzczLjhcXFwiIHkyPVxcXCIyOTMuOVxcXCIgLz5cXHJcXG4gICAgPGxpbmUgZmlsbD1cXFwibm9uZVxcXCIgeDE9XFxcIjMyMC45XFxcIiB5MT1cXFwiMzEwLjVcXFwiIHgyPVxcXCIzMjIuMlxcXCIgeTI9XFxcIjIyNi40XFxcIiAvPlxcclxcbiAgICA8bGluZSBmaWxsPVxcXCJub25lXFxcIiB4MT1cXFwiMzAwLjdcXFwiIHkxPVxcXCIzMDcuOFxcXCIgeDI9XFxcIjMyN1xcXCIgeTI9XFxcIjIyNy42XFxcIiAvPlxcclxcbiAgICA8bGluZSBmaWxsPVxcXCJub25lXFxcIiB4MT1cXFwiMjgyLjNcXFwiIHkxPVxcXCIzMDAuNFxcXCIgeDI9XFxcIjMzMlxcXCIgeTI9XFxcIjIyNy42XFxcIiAvPlxcclxcbiAgICA8bGluZSBmaWxsPVxcXCJub25lXFxcIiB4MT1cXFwiMjY4LjFcXFwiIHkxPVxcXCIyOTEuMVxcXCIgeDI9XFxcIjMxNS40XFxcIiB5Mj1cXFwiMjExXFxcIiAvPlxcclxcbiAgICA8bGluZSBmaWxsPVxcXCJub25lXFxcIiB4MT1cXFwiMjU0LjJcXFwiIHkxPVxcXCIyNzcuOFxcXCIgeDI9XFxcIjMxNS40XFxcIiB5Mj1cXFwiMjIwLjVcXFwiIC8+XFxyXFxuICAgIDxsaW5lIGZpbGw9XFxcIm5vbmVcXFwiIHgxPVxcXCIyNDQuMVxcXCIgeTE9XFxcIjI2NC44XFxcIiB4Mj1cXFwiMzE5XFxcIiB5Mj1cXFwiMjI0XFxcIiAvPlxcclxcbiAgICA8bGluZSBmaWxsPVxcXCJub25lXFxcIiB4MT1cXFwiMzE5XFxcIiB5MT1cXFwiMjI0XFxcIiB4Mj1cXFwiMzM4LjdcXFwiIHkyPVxcXCIzMDguNlxcXCIgLz5cXHJcXG4gICAgPGxpbmUgZmlsbD1cXFwibm9uZVxcXCIgeDE9XFxcIjIzNS41XFxcIiB5MT1cXFwiMjQ2LjNcXFwiIHgyPVxcXCIzMTkuNVxcXCIgeTI9XFxcIjIyNi40XFxcIiAvPlxcclxcbiAgICA8bGluZSBmaWxsPVxcXCJub25lXFxcIiB4MT1cXFwiMjMxLjhcXFwiIHkxPVxcXCIyMjkuNVxcXCIgeDI9XFxcIjMxOVxcXCIgeTI9XFxcIjIwNC4zXFxcIiAvPlxcclxcbiAgICA8bGluZSBmaWxsPVxcXCJub25lXFxcIiB4MT1cXFwiMjMxLjFcXFwiIHkxPVxcXCIyMDkuNFxcXCIgeDI9XFxcIjMxNi44XFxcIiB5Mj1cXFwiMjA3LjRcXFwiIC8+XFxyXFxuICAgIDxsaW5lIGZpbGw9XFxcIm5vbmVcXFwiIHgxPVxcXCIyMzQuM1xcXCIgeTE9XFxcIjE5MC43XFxcIiB4Mj1cXFwiMzE2XFxcIiB5Mj1cXFwiMjE3LjlcXFwiIC8+XFxyXFxuICAgIDxsaW5lIGZpbGw9XFxcIm5vbmVcXFwiIHgxPVxcXCIyNDFcXFwiIHkxPVxcXCIxNzIuNVxcXCIgeDI9XFxcIjMxNS41XFxcIiB5Mj1cXFwiMjE1LjFcXFwiIC8+XFxyXFxuICAgIDxsaW5lIGZpbGw9XFxcIm5vbmVcXFwiIHgxPVxcXCIyNTIuMlxcXCIgeTE9XFxcIjE1NC40XFxcIiB4Mj1cXFwiMzE5XFxcIiB5Mj1cXFwiMjA0LjNcXFwiIC8+XFxyXFxuICAgIDxsaW5lIGZpbGw9XFxcIm5vbmVcXFwiIHgxPVxcXCIyNjQuOFxcXCIgeTE9XFxcIjE0MS4xXFxcIiB4Mj1cXFwiMzIzLjhcXFwiIHkyPVxcXCIyMDAuOFxcXCIgLz5cXHJcXG4gICAgPGxpbmUgZmlsbD1cXFwibm9uZVxcXCIgeDE9XFxcIjI5Ni4yXFxcIiB5MT1cXFwiMTIxLjRcXFwiIHgyPVxcXCIzMTkuNVxcXCIgeTI9XFxcIjIwNC4xXFxcIiAvPlxcclxcbiAgICA8bGluZSBmaWxsPVxcXCJub25lXFxcIiB4MT1cXFwiMzE1LjRcXFwiIHkxPVxcXCIxMTZcXFwiIHgyPVxcXCIzMzAuM1xcXCIgeTI9XFxcIjE5OS4zXFxcIiAvPlxcclxcbiAgICA8bGluZSBmaWxsPVxcXCJub25lXFxcIiB4MT1cXFwiMzM0LjdcXFwiIHkxPVxcXCIxMTZcXFwiIHgyPVxcXCIzMzguN1xcXCIgeTI9XFxcIjIwMy45XFxcIiAvPlxcclxcbiAgICA8bGluZSBmaWxsPVxcXCJub25lXFxcIiB4MT1cXFwiMzUyLjNcXFwiIHkxPVxcXCIxMTguMlxcXCIgeDI9XFxcIjMxOVxcXCIgeTI9XFxcIjIwNC4zXFxcIiAvPlxcclxcbiAgICA8bGluZSBmaWxsPVxcXCJub25lXFxcIiB4MT1cXFwiMzcwLjJcXFwiIHkxPVxcXCIxMjUuNVxcXCIgeDI9XFxcIjMzMC4zXFxcIiB5Mj1cXFwiMTk5LjNcXFwiIC8+XFxyXFxuICAgICAgICAgICAgPC9nPlxcclxcbiAgICA8cGF0aCBpZD1cXFwic3Bpbm5lci10aXJle3tzcGlubmVyS2V5UG9zdEZpeH19XFxcIiBmaWxsPVxcXCJub25lXFxcIiBkPVxcXCJNMjU5LjYsMTI1LjJjNTAuMi0zOSwxMTkuMS0yNy44LDE1NS40LDIwLjhjMzYuMiw0OC41LDIyLjEsMTE0LjQtMjQuMSwxNTMuNlxcclxcblx0XHRjLTI5LjUsMjUtMTA4LjksMzYuNS0xNTMuNS0yMC45QzIwNi4xLDIzOC40LDIxMy45LDE2MC43LDI1OS42LDEyNS4yeiBNMjMxLjEsMjg1LjljMzUuNCw1Mi4xLDExNSw1My41LDE2Mi44LDE5LjVcXHJcXG5cdFx0YzQ4LjItMzQuMyw2NS40LTExNi45LDI2LjEtMTY0LjFDMzc4LjgsOTEuNiwzMTgsNzMuMSwyNTIuMiwxMjEuNUMyMDguNCwxNTMuNiwxOTEuNiwyMjcuNiwyMzEuMSwyODUuOXpcXFwiIC8+XFxyXFxuICAgIDxwYXRoIGlkPVxcXCJzcGlubmVyLWh1Ynt7c3Bpbm5lcktleVBvc3RGaXh9fVxcXCIgZmlsbD1cXFwibm9uZVxcXCIgZD1cXFwiTTMxNS40LDIxMy43YzAtMi4zLDAuNy0xMy45LDEzLjUtMTMuOWM3LjQsMCwxMy41LDYuMiwxMy41LDEzLjlzLTYuMSwxMy45LTEzLjYsMTMuOVxcclxcblx0XHRDMzIxLjQsMjI3LjYsMzE1LjQsMjIxLjUsMzE1LjQsMjEzLjd6IE0zMjMsMjE4bC00LjEsMC42bDMuNCwzLjJMMzIzLDIxOHogTTMzMy44LDIxNi45bDAuNyw0LjFsMy4xLTMuNUwzMzMuOCwyMTYuOXogTTMyOCwyMTkuOVxcclxcblx0XHRsLTEuMyw0bDQuMy0wLjdMMzI4LDIxOS45eiBNMzE4LjcsMjExLjJsLTAuNCw0LjFsMy45LTIuNUwzMTguNywyMTEuMnogTTMyMy45LDIwOC4zbDEuMy0zLjlsLTQuNCwxLjZMMzIzLjksMjA4LjN6IE0zMzQuNSwyMDUuN1xcclxcblx0XHRsLTUuMy0yLjlsMS43LDQuM0wzMzQuNSwyMDUuN3ogTTMzNC44LDIxMS4zbDQsMS4xbC0xLjgtNC4zTDMzNC44LDIxMS4zelxcXCIgLz5cXHJcXG4gICAgICAgIDwvZz5cXHJcXG4gICAgICAgIDwvZz5cXHJcXG4gICAgPC9zdmc+XFxyXFxuXFxyXFxuPC9kaXY+XCIpO31dKTsiXSwic291cmNlUm9vdCI6Ii4vd2Vic2l0ZSJ9